{"version":3,"sources":["types/enums.ts","store/models/common.ts","store/models/room.ts","core/socket.ts","helpers/utils.ts","helpers/env.ts","store/models/game.ts","store/models/gamePoint.ts","store/models/chat.ts","constants/index.ts","helpers/storage.ts","store/models/tools.ts","store/models/index.ts","store/index.ts","pages/Home/components/Typo3D/index.jsx","pages/Room/containers/CanvasContainer/index.tsx","pages/Home/components/Image3D/index.tsx","pages/Home/components/Clouds/index.tsx","pages/Home/components/Earth/index.tsx","pages/Home/components/CameraControl/index.jsx","pages/Home/index.tsx","components/PageTemplate/index.tsx","core/event.ts","pages/Room/hooks/useGameHandler.tsx","pages/Room/hooks/useGameStatus.tsx","pages/Room/hooks/useGameSync.tsx","pages/Room/hooks/useMyTurn.tsx","pages/Room/hooks/usePainterInfo.tsx","core/drawing/drawing-core.ts","core/drawing/drawing.ts","pages/Room/containers/ChatContainer/index.tsx","pages/Room/components/GameQuestion/index.tsx","pages/Room/components/GameRound/index.tsx","assets/sound/tick-tock.mp3","pages/Room/components/GameTimer/index.tsx","pages/Room/components/PaletteColor/index.tsx","pages/Room/components/PaletteSlider/index.tsx","pages/Room/components/ProfileAvatar/index.tsx","pages/Room/components/overlay/ResultLayer/index.tsx","pages/Room/components/overlay/NextTurnContent/index.tsx","pages/Room/components/overlay/CompleteContent/index.tsx","pages/Room/components/overlay/GameOverContent/index.tsx","pages/Room/containers/GameContentContainer/index.tsx","pages/Room/containers/GameStatusContainer/index.tsx","hooks/useMotion.ts","pages/Room/containers/GateContainer/index.tsx","pages/Room/containers/HeaderContainer/index.tsx","pages/Room/containers/SocketContainer/index.tsx","pages/Room/containers/ToolsContainer/index.tsx","pages/Room/containers/UserListContainer/index.tsx","pages/Room/index.tsx","routes/paths.ts","routes/index.tsx","App.tsx","index.tsx"],"names":["SocketMessageType","DrawingTools","DrawingStatus","GameStatus","common","createModel","state","isLoading","selectors","slice","reducers","showLoading","hideLoading","room","isConnectedSocket","isJoined","userInfo","participants","setSocketState","payload","setJoinedState","setUserInfo","updateParticipants","updateUserPoint","userId","roundPoint","map","user","point","roomId","senderId","getRandomNumber","max","Math","floor","random","isStorybook","process","STORYBOOK","socket","io","transports","sendMessage","type","body","to","data","send","initialState","status","WAITING","painterId","questions","round","time","game","isVisibleOverlayContent","STANDBY_TURN","COMPLETED","GAMEOVER","currentQuestion","setQuestions","setPainterId","setRound","setTime","setStatus","effects","dispatch","init","rootState","standBy","wait","workerTimers","play","PLAYING","complete","nextQuestion","finish","_","nextRound","nextPainterIndex","nextPainterId","length","gamePoint","resetCorrectUserInfo","checkUserAnswer","text","correctUserList","isCorrect","isExistCorrectUser","find","correctUser","CORRECT_USER","RANK_POINT_BASE","addCorrectUserInfo","push","ranking","chat","chatList","addChat","COLORS","PROFILE_CHARACTERS","QUESTIONS","LOCAL_STORAGE","setStorage","key","value","JSON","stringify","localStorage","getStorage","console","info","parse","error","tool","color","size","currentTool","PEN","currentColor","currentSize","models","tools","setTool","setColor","setSize","store","plugins","immerPlugin","selectPlugin","select","extend","TextGeometry","drawing","Typo3D","children","style","vAlign","hAlign","props","font","useLoader","FontLoader","config","useMemo","height","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","mesh","useRef","useEffect","current","geometry","center","ref","scale","attach","args","shininess","Image3D","position","materialImgs","useTexture","Array","i","useFrame","rotation","x","y","material","index","attachArray","Clouds","radius","earthClouds","cloudsRef","clock","elapsedTime","transparent","alphaMap","opacity","Earth","earthSpecular","specularMap","specular","Color","Stars","depth","count","factor","saturation","fade","VEC","THREE","CameraControl","useState","isAction","setIsAction","camera","lerp","set","timer","setTimeout","clearTimeout","Home","className","fov","fallback","TrackballControls","panSpeed","minDistance","maxDistance","w","h","colorScheme","fontWeight","variant","PageTemplate","id","event","EventEmitter","useGameHandler","useSelector","useGameStatus","isWaiting","isPlaying","useDispatch","userCount","clearAll","removeAllListeners","on","isStandByTurn","isComplete","isGameOver","useGameSync","isMyTurn","useMyTurn","log","SYNC_GAME_STATUS","usePainterInfo","DEFAULT_MODE","LINE_CAP","DrawingCore","canvas","context","startPoint","currentPoint","this","mode","e","offsetX","offsetY","beginPath","globalCompositeOperation","strokeStyle","lineWidth","ERASER","lineJoin","lineCap","moveTo","lineTo","stroke","closePath","width","clearRect","newConf","scrollWidth","scrollHeight","scaleX","scaleY","Drawing","params","enabled","isDragging","drawCommandQueue","currentDrawCommand","redoDrawingStack","canvasSize","mouseDownHandler","mouseMoveHandler","mouseUpHandler","keyDownHandler","onMouseDown","bind","onMouseMove","onMouseUp","onKeyDown","bindSocketEventHandler","getCanvasSize","getPoint","start","getConfig","DRAWING","drawingStatus","START","drawingMode","startPoinByScale","currentPointByScale","drawingCommand","draw","DRAW","pop","undo","restoreDraw","REDO","redo","clear","forEach","drawingParams","end","END","metaKey","preventDefault","shiftKey","CLEAR_ALL","bindMouseEventHandler","bindKeyboardEventHandler","unbindMouseEventHandler","unbindKeyboardEventHandler","addEventListener","window","removeEventListener","setConfig","UNDO","CanvasContainer","canvasRef","isPainterMode","getContext","clientWidth","clientHeight","enable","disable","isEraserTool","cn","pen","eraser","ChatContainer","listWrapRef","textRef","handleScrollToBottom","useCallback","$listWrap","scrollTop","handleSendMessage","message","timestamp","Date","getTime","CHAT","nickName","isMine","trim","handleKeyUp","handleKeyDown","findParticipantInfo","onChat","templateRows","borderRadius","overflow","rowSpan","mine","alignItems","p","fontSize","bg","pr","placeholder","onKeyUp","mr","justifyContent","icon","onClick","GameQuestion","word","isBlind","minWidth","textAlign","from","fill","GameRound","totalRound","as","GameTimer","timeCount","isNeedSpeedUp","isTimeout","useSound","tickTock","playbackRate","interrupt","stop","forceSoundEnabled","PaletteColor","selected","isWhiteColor","backgroundColor","PaletteSlider","onSliderChange","defaultValue","min","onChange","val","ProfileAvatar","variants","initial","visible","ResultLayer","title","motion","div","animate","transition","duration","mb","bgColor","minHeight","padding","marginX","NextTurnContent","painterName","PainterText","lineHeight","m","textDecoration","GamerText","CompleteContent","userList","profileIndex","currectUserInfo","GameOverContent","confetti","particleCount","spread","zIndex","isFirstUser","isSecondUser","isThirdUser","winner","GameContentContainer","isCurrectUser","GameStatusContainer","painterInfo","useMotion","deps","controls","useAnimation","delay","stiffness","velocity","default","GateContainer","randomIndex","setProfileIndex","drawTime","setDrawTime","inputRef","isPrevDisabled","isNextDisabled","defaultNickName","getRandomProfile","handlePrevProfile","handleNextProfile","handleEnterRoom","uuidv4","emit","alert","alignContent","spacing","maxLength","required","templateColumns","gap","disabled","colSpan","rightIcon","mt","direction","HeaderContainer","handleExit","location","pathname","align","SocketContainer","onGateIn","onJoinUser","onLeaveUser","onMessage","bindSocket","setupBaseInfo","ToolsContainer","handleDrawingTool","name","handleColor","handleSlider","Object","keys","isActive","UserListContainer","isPainter","painter","margin","ml","Room","useParams","createBreakpoints","sm","md","lg","xl","maxW","base","gridAutoFlow","PATHS","HOME","ROOM","AppRoutes","path","element","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8e5983df.chunk.js","sourcesContent":["export enum SocketMessageType {\n  CHAT = 'CHAT',\n  DRAWING = 'DRAWING',\n  CORRECT_USER = 'CORRECT_USER',\n  SYNC_GAME_STATUS = 'SYNC_GAME_STATUS',\n}\n\nexport enum DrawingTools {\n  PEN = 'PEN',\n  ERASER = 'ERASER',\n  CLEAR_ALL = 'CLEAR_ALL',\n}\n\nexport enum DrawingStatus {\n  START = 'START',\n  DRAW = 'DRAW',\n  END = 'END',\n  CLEAR_ALL = 'CLEAR_ALL',\n  UNDO = 'UNDO',\n  REDO = 'REDO',\n}\n\nexport enum GameStatus {\n  WAITING = 'WAITING', // 참여자 대기\n  STANDBY_TURN = 'STANDBY_TURN', // 문제 준비 상태\n  PLAYING = 'PLAYING', // 게임 진행중\n  COMPLETED = 'COMPLETED', // 한 단어 완료\n  GAMEOVER = 'GAMEOVER', // 게임 종료\n}\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\n\nexport interface CommonState {\n  isLoading: boolean;\n}\n\nexport const initialState: CommonState = {\n  isLoading: false,\n};\n\nexport const common = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n  }),\n  reducers: {\n    showLoading(state) {\n      state.isLoading = true;\n    },\n    hideLoading(state) {\n      state.isLoading = false;\n    },\n  },\n});\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\n\nexport interface RoomState {\n  isConnectedSocket: boolean;\n  isJoined: boolean;\n  userInfo: Picasso.UserInfo | null;\n  participants: Picasso.UserInfo[];\n}\n\nexport const initialState: RoomState = {\n  isConnectedSocket: false,\n  isJoined: false,\n  userInfo: null,\n  participants: [],\n};\n\nexport const room = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n  }),\n  reducers: {\n    setSocketState(state, payload: boolean) {\n      state.isConnectedSocket = payload;\n      return state;\n    },\n    setJoinedState(state, payload: boolean) {\n      state.isJoined = payload;\n      return state;\n    },\n    setUserInfo(state, payload: Picasso.UserInfo) {\n      state.userInfo = payload;\n      return state;\n    },\n    updateParticipants(state, payload: Picasso.UserInfo[]) {\n      state.participants = payload;\n      return state;\n    },\n    updateUserPoint(state, { userId, roundPoint }: { userId: string; roundPoint: number }) {\n      const participants = state.participants.map((user) => {\n        if (user.userId === userId) {\n          user.point = user.point ?? 0 + roundPoint;\n        }\n        return user;\n      });\n\n      state.participants = participants;\n      return state;\n    },\n  },\n});\n","import io from 'socket.io-client';\nimport { isNodeProdcution } from 'helpers/env';\n\nconst SOCKET_SERVER = isNodeProdcution ? 'wss://maybe-picasso.herokuapp.com' : 'ws://localhost:3000/picasso';\n\nlet roomId: string;\nlet senderId: string;\n\nexport const socket = io(SOCKET_SERVER, {\n  transports: ['websocket'],\n});\n\ninterface SocketInitData {\n  roomId: string;\n  userId: string;\n}\n\nexport const setupBaseInfo = ({ roomId: id, userId }: SocketInitData) => {\n  roomId = id;\n  senderId = userId;\n};\n\nexport const sendMessage = ({ type, body, to = 'all' }: Pick<Picasso.SocketMessage, 'type' | 'body' | 'to'>) => {\n  const data: Picasso.SocketMessage = {\n    roomId,\n    senderId,\n    to,\n    type,\n    body,\n  };\n\n  socket.send(data);\n};\n\nexport default socket;\n","import { v4 as uuidv4 } from 'uuid';\nimport { throttle } from 'lodash-es';\nimport randomWord from 'random-words';\n\nconst REPEAT_HOLD_TIME = 1000;\nconst THROTTLE_OPTIONS = {\n  trailing: false, // throttle 후행 이벤트 발동 설정\n};\n\n/**\n * UUID를 반환합니다.\n */\nexport const getUuid = (): string => {\n  return uuidv4();\n};\n\n/**\n * 룸ID에 사용할 랜덤한 단어를 반환합니다.\n */\nexport const getRandomRoomId = (count: number = 1): string => {\n  return randomWord(count).join('-');\n};\n\n/**\n * 최대값내에 랜덤값을 반환합니다.\n */\nexport const getRandomNumber = (max: number): number => {\n  return Math.floor(Math.random() * max);\n};\n\n/**\n * 이벤트 쓰로틀이 적용된 함수를 반환합니다.\n */\nexport const getThrottledFunc = (func: any) => {\n  return throttle(func, REPEAT_HOLD_TIME, THROTTLE_OPTIONS);\n};\n\n/**\n * 두 값이 같은지 비교합니다.\n */\nexport const compare = (a: any, b: any) => {\n  return a === b;\n};\n","export const isNodeProdcution: boolean = process.env.NODE_ENV === 'production';\nexport const isStorybook: boolean = process.env.STORYBOOK === 'true';\n","import * as workerTimers from 'worker-timers';\nimport { createModel } from '@rematch/core';\nimport { RootModel } from './';\nimport { GameStatus } from 'types/enums';\nimport { compare } from 'helpers/utils';\nimport { sendMessage } from 'core/socket';\nimport { SocketMessageType } from 'types/enums';\n\nexport interface GameState {\n  status: GameStatus;\n  painterId: string | null;\n  questions: string[];\n  round: number;\n  time: number;\n}\n\nexport const initialState: GameState = {\n  status: GameStatus.WAITING,\n  painterId: null,\n  questions: [],\n  round: 1,\n  time: 30,\n};\n\nconst NEXT_ACTION_DELAY = 5000;\n\n// TODO: 점수처리 방법 고민\n// 3위까지는 남은 시간의 2배, 1.5배, 1.2배 4위 부터 1.0\n// 참여자수 가산점?\n\nexport const game = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n    isVisibleOverlayContent: () =>\n      slice(\n        ({ status }) =>\n          status === GameStatus.STANDBY_TURN || status === GameStatus.COMPLETED || status === GameStatus.GAMEOVER\n      ),\n    currentQuestion: () => slice(({ questions, round }) => questions[round - 1]),\n  }),\n  reducers: {\n    setQuestions(state, payload: string[]) {\n      state.questions = payload;\n      return state;\n    },\n    setPainterId(state, payload: string) {\n      state.painterId = payload;\n      return state;\n    },\n    setRound(state, payload: number) {\n      state.round = payload;\n      return state;\n    },\n    setTime(state, payload: number) {\n      state.time = payload;\n      return state;\n    },\n    setStatus(state, payload: GameStatus) {\n      state.status = payload;\n      return state;\n    },\n  },\n  effects: (dispatch) => ({\n    init({ questions }: Pick<GameState, 'questions'>, rootState) {\n      const { room } = rootState;\n      const { participants } = room;\n      dispatch.game.standBy();\n      dispatch.game.setQuestions(questions);\n      dispatch.game.setRound(initialState.round);\n      dispatch.game.setTime(initialState.time);\n      dispatch.game.setPainterId(participants[0].userId);\n    },\n    wait() {\n      dispatch.game.setStatus(GameStatus.WAITING);\n    },\n    standBy() {\n      dispatch.game.setStatus(GameStatus.STANDBY_TURN);\n\n      // 문제 안내 후 5초뒤 게임 시작\n      workerTimers.setTimeout(() => {\n        dispatch.game.play();\n      }, NEXT_ACTION_DELAY);\n    },\n    play() {\n      dispatch.game.setStatus(GameStatus.PLAYING);\n    },\n    complete() {\n      dispatch.game.setStatus(GameStatus.COMPLETED);\n\n      // 라운드 완료 후 5초뒤 다음 문제 안내\n      workerTimers.setTimeout(() => {\n        dispatch.game.nextQuestion({});\n      }, NEXT_ACTION_DELAY);\n    },\n    finish() {\n      dispatch.game.setStatus(GameStatus.GAMEOVER);\n    },\n    nextQuestion(_, rootState) {\n      const { game, room } = rootState;\n      const { participants } = room;\n      const nextRound = game.round + 1;\n      const nextPainterIndex = nextRound - 1;\n      const nextPainterId =\n        participants[nextPainterIndex]?.userId ??\n        participants[(nextPainterIndex - participants.length) % participants.length].userId; // 사용자 수보다 라운드가 커질때 순차 탐색 연산 처리\n\n      if (nextRound > game.questions.length) {\n        dispatch.game.finish();\n        return;\n      }\n\n      dispatch.game.standBy();\n      dispatch.game.setRound(nextRound);\n      dispatch.game.setTime(initialState.time);\n      dispatch.game.setPainterId(nextPainterId);\n      dispatch.gamePoint.resetCorrectUserInfo();\n    },\n    checkUserAnswer({ userId, text }: { userId: string; text: string }, rootState) {\n      const { game, gamePoint } = rootState;\n      const { questions, round, time, painterId } = game;\n      const { correctUserList } = gamePoint;\n      const currentQuestion = questions[round - 1];\n      const isCorrect = compare(currentQuestion, text);\n      const isExistCorrectUser = correctUserList.find((user) => user.userId === userId);\n\n      // 페인터가 입력한 정답 무시\n      // 이미 정답을 맞힌 사용자 무시\n      if (painterId === userId || isExistCorrectUser) {\n        return;\n      }\n\n      if (isCorrect && time) {\n        dispatch.gamePoint.correctUser({ userId });\n\n        sendMessage({\n          type: SocketMessageType.CORRECT_USER,\n          body: {\n            userId,\n          },\n        });\n      }\n    },\n  }),\n});\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\n\nexport interface GamePointState {\n  correctUserList: Picasso.CorrectUserInfo[]; // 현재 라운드의 정답자 포인트\n}\n\n// 점수 가산 방식\n// 조건1. 3위까지는 남은 시간의 2배, 1.5배, 1.2배 4위 부터 1.0\n// 조건2. 참여자수 가산점\nconst RANK_POINT_BASE: Record<number, number> = {\n  1: 2,\n  2: 1.5,\n  3: 1.2,\n  99: 1.0,\n};\n\nexport const initialState: GamePointState = {\n  correctUserList: [],\n};\n\nexport const gamePoint = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n  }),\n  reducers: {\n    addCorrectUserInfo(state, payload: Picasso.CorrectUserInfo) {\n      state.correctUserList.push(payload);\n      return state;\n    },\n    resetCorrectUserInfo(state) {\n      state.correctUserList = [];\n      return state;\n    },\n  },\n  effects: (dispatch) => ({\n    correctUser({ userId }, rootState) {\n      const { room, game, gamePoint } = rootState;\n      const { correctUserList } = gamePoint;\n      const { participants } = room;\n      const { time } = game;\n      const ranking = correctUserList.length + 1;\n      const rankingPoint = RANK_POINT_BASE[ranking < 4 ? ranking : 99];\n      const participantsPoint = participants.length * 10;\n      const point = time * rankingPoint + participantsPoint;\n\n      // 현재 라운드 포인트 정보 추가\n      dispatch.gamePoint.addCorrectUserInfo({\n        userId,\n        point,\n        time,\n      });\n\n      // 사용자의 기존 포인트 정보에 추가\n      // TODO: 서버 API로 대체 예정\n      dispatch.room.updateUserPoint({\n        userId,\n        roundPoint: point,\n      });\n    },\n  }),\n});\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\n\ninterface ChatMessage {\n  userId: string;\n  nickName: string;\n  message: string;\n  timestamp: number;\n  isMine?: boolean;\n}\n\nexport interface ChatState {\n  chatList: ChatMessage[];\n}\n\nexport const initialState: ChatState = {\n  chatList: [],\n};\n\nexport const chat = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n  }),\n  reducers: {\n    addChat(state, payload: ChatMessage) {\n      state.chatList.push(payload);\n      return state;\n    },\n  },\n});\n","export const COLORS: string[] = [\n  '#000000', // Black\n  '#aaaaaa', // Gray\n  '#dddddd', // Silver\n  '#ffffff', // White\n  '#0074d9', // Blue\n  '#7fdbff', // Aqua\n  '#39cccc', // Teal\n  '#3d9970', // Olive\n  '#2ecc40', // Green\n  '#01ff70', // Lime\n  '#ffdc00', // Yellow\n  '#ff851b', // Orange\n  '#f00000', // Red\n  '#85144b', // Maroon\n  '#f012be', // Fuchsia\n  '#b10dc9', // Purple\\\n  '#F05E5F', // Pastal red\n  '#5A4B50', // Pastal brown\n  '#8BBEB4', // Pastal green\n  '#F0B85E', // Pastal yellow\n];\n\nexport const DEFAULT_LINE_SIZE: number = 3;\n\n// https://emojiterra.com/animals/\n// prettier-ignore\nexport const PROFILE_CHARACTERS = [\n  '🐶', '🐱', '🦁', '🐰', '🦊', '🐨', '🐼', '🐯', '🐥', '🐷',\n  '🐮', '🐹', '🐻‍❄️', '🐸', '🐲', '🐳', '🐙', '🐔', '🦄', '🐺',\n  '🦥', '🦦', '🦭', '🦖', '🐢', \n  '🦋', '🐛', '🐝', '🕷️', '🐌',\n];\n\n// prettier-ignore\nexport const QUESTIONS = [\n  \"햄버거\", \"스타벅스\", \"녹차\", \"풍선껌\", \"수영복\", \"노래방\", \"할머니\", \"감기약\", \"아이폰\", \"크리스마스\",\n]\n\nexport const LOCAL_STORAGE = {\n  NICK_NAME: 'nickName',\n  DRAWING_TOOLS: 'drawingTools',\n};\n","/**\n * 로컬스토리지 쓰기\n * @param key\n * @param value\n */\nexport function setStorage(key: string, value: any): void {\n  value = JSON.stringify(value);\n  localStorage[key] = value;\n}\n\n/**\n * 로컬스토리지 읽기\n * @param key\n */\nexport function getStorage(key: string): any {\n  let value = localStorage[key];\n  if (!value) {\n    console.info(`localStorage에 ${key}는 없습니다.`);\n    return null;\n  }\n\n  try {\n    value = JSON.parse(value);\n  } catch (error) {\n    console.error('getStorage catch(error)', error);\n  }\n\n  return value;\n}\n\n/**\n * 로컬스토리지 특정 key 데이터 삭제\n * @param key\n */\nexport function deleteStorage(key: string): void {\n  localStorage.removeItem(key);\n}\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\nimport { COLORS, DEFAULT_LINE_SIZE, LOCAL_STORAGE } from 'constants/index';\nimport { DrawingTools } from 'types/enums';\nimport { getStorage, setStorage } from 'helpers/storage';\n\nexport interface ToolsState {\n  currentTool: DrawingTools;\n  currentColor: string;\n  currentSize: number;\n}\n\nconst { tool, color, size } = getStorage(LOCAL_STORAGE.DRAWING_TOOLS) || {};\n\nexport const initialState: ToolsState = {\n  currentTool: tool || DrawingTools.PEN,\n  currentColor: color || COLORS[0],\n  currentSize: size || DEFAULT_LINE_SIZE,\n};\n\nexport const tools = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice) => ({\n    state: () => slice,\n  }),\n  reducers: {\n    setTool(state, payload: DrawingTools) {\n      const { currentColor, currentSize } = state;\n\n      setStorage(LOCAL_STORAGE.DRAWING_TOOLS, {\n        tool: payload,\n        color: currentColor,\n        size: currentSize,\n      });\n\n      return {\n        ...state,\n        currentTool: payload,\n      };\n    },\n    setColor(state, payload: string) {\n      const { currentTool, currentSize } = state;\n\n      setStorage(LOCAL_STORAGE.DRAWING_TOOLS, {\n        tool: currentTool,\n        color: payload,\n        size: currentSize,\n      });\n\n      return {\n        ...state,\n        currentColor: payload,\n      };\n    },\n    setSize(state, payload: number) {\n      const { currentTool, currentColor } = state;\n\n      setStorage(LOCAL_STORAGE.DRAWING_TOOLS, {\n        tool: currentTool,\n        color: currentColor,\n        size: payload,\n      });\n\n      return {\n        ...state,\n        currentSize: payload,\n      };\n    },\n  },\n});\n","import { Models } from '@rematch/core';\nimport { common } from './common';\nimport { room } from './room';\nimport { game } from './game';\nimport { gamePoint } from './gamePoint';\nimport { chat } from './chat';\nimport { tools } from './tools';\n\nexport interface RootModel extends Models<RootModel> {\n  common: typeof common;\n  room: typeof room;\n  game: typeof game;\n  gamePoint: typeof gamePoint;\n  chat: typeof chat;\n  tools: typeof tools;\n}\n\nexport const models: RootModel = { common, room, game, gamePoint, chat, tools };\n","import { init, RematchDispatch, RematchRootState } from '@rematch/core';\nimport { models, RootModel } from './models';\nimport immerPlugin from '@rematch/immer';\nimport selectPlugin from '@rematch/select';\n\nexport const store = init<RootModel>({\n  models,\n  plugins: [immerPlugin(), selectPlugin()],\n});\n\n// REF: https://rematchjs.org/docs/plugins/select/#3-selector-examples\nexport const { select } = store;\n\nexport type Store = typeof store;\nexport type Dispatch = RematchDispatch<RootModel>;\nexport type RootState = RematchRootState<RootModel>;\n","import { useRef, useMemo, useEffect } from 'react';\nimport { extend, useLoader } from '@react-three/fiber';\nimport { FontLoader } from 'three/examples/jsm/loaders/FontLoader';\nimport { TextGeometry } from 'three/examples/jsm/geometries/TextGeometry';\nextend({ TextGeometry });\n\nconst fontsrc = 'fonts/Jua_Regular-picaso.json';\n\nconst Typo3D = ({\n  children,\n  style = '',\n  vAlign = 'center',\n  hAlign = 'center',\n  size = 1,\n  color = '#000000',\n  ...props\n}) => {\n  const font = useLoader(FontLoader, fontsrc);\n\n  const config = useMemo(\n    () => ({\n      font,\n      size: 3,\n      height: 0.5, //앞뒤 두께감\n      curveSegments: 1.5, //너무 높게하면 리렌더링 오래걸림\n      bevelEnabled: true,\n      bevelThickness: 1,\n      bevelSize: 0.1,\n      bevelOffset: 0.01,\n      bevelSegments: 10,\n    }),\n    [font]\n  );\n\n  /** 센터 정렬 */\n  const mesh = useRef(null);\n  useEffect(() => {\n    if (mesh.current) {\n      mesh.current.children[0].geometry.center();\n    }\n  }, [children]);\n\n  return (\n    <group ref={mesh} {...props} scale={[0.1 * size, 0.1 * size, 0.1]}>\n      <mesh>\n        <textGeometry attach=\"geometry\" args={[children, config]} />\n        <meshPhongMaterial shininess={200} color={color} attach=\"material\" />\n      </mesh>\n    </group>\n  );\n};\n\nexport default Typo3D;\n","import { useRef, useState, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { useSelector } from 'react-redux';\nimport { select } from 'store';\nimport { useMyTurn, useGameStatus } from '../../hooks';\nimport { Drawing } from 'core/drawing';\nimport { DrawingTools } from 'types/enums';\nimport './index.scss';\n\nexport let drawing: Drawing;\n\nconst CanvasContainer = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [size, setSize] = useState({ width: 0, height: 0 });\n  const { currentColor, currentTool, currentSize } = useSelector(select.tools.state);\n  const { isWaiting } = useGameStatus();\n  const isMyTurn = useMyTurn();\n\n  const isPainterMode = isMyTurn || isWaiting;\n\n  useEffect(() => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    if (!context) {\n      console.error('컨텍스트를 가져오는데에 실패하였습니다.');\n      return;\n    }\n\n    setSize({\n      width: canvas.clientWidth,\n      height: canvas.clientHeight,\n    });\n\n    if (!drawing) {\n      drawing = new Drawing({\n        canvas,\n        context,\n      });\n    }\n\n    drawing.enable();\n  }, []);\n\n  useEffect(() => {\n    if (isPainterMode) {\n      drawing.enable();\n    } else {\n      drawing.disable();\n    }\n  }, [isPainterMode]);\n\n  useEffect(() => {\n    drawing.setConfig({\n      color: currentColor,\n    });\n  }, [currentColor, isPainterMode]);\n\n  useEffect(() => {\n    drawing.setConfig({\n      size: currentSize,\n    });\n  }, [currentSize, isPainterMode]);\n\n  useEffect(() => {\n    drawing.setConfig({\n      mode: currentTool,\n    });\n  }, [currentTool, isPainterMode]);\n\n  const isEraserTool = currentTool === DrawingTools.ERASER;\n\n  return (\n    <canvas\n      id=\"drawingCanvas\"\n      className={cn({ pen: isPainterMode, eraser: isEraserTool })}\n      ref={canvasRef}\n      width={size.width}\n      height={size.height}\n    />\n  );\n};\n\nexport default CanvasContainer;\n","import * as THREE from 'three';\nimport { useRef } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { useTexture } from '@react-three/drei';\n\ninterface Props {\n  position?: [number, number, number];\n  size?: number;\n}\n\nconst Image3D = ({ position, size = 1 }: Props) => {\n  const ref = useRef<THREE.Mesh>();\n\n  const materialImgs = useTexture([...Array(6)].map((_, i) => `textures/cube${i + 1}.jpg`));\n\n  useFrame(() => {\n    ref.current!.rotation.x += 0.005;\n    ref.current!.rotation.y += 0.005;\n  });\n\n  return (\n    <mesh ref={ref} position={position} scale={1}>\n      <boxGeometry args={[size, size, size]} />\n      {materialImgs.map((material, index) => {\n        return <meshBasicMaterial key={index} attachArray=\"material\" map={material} />;\n      })}\n    </mesh>\n  );\n};\nexport default Image3D;\n","import { useRef } from 'react';\nimport { Sphere, useTexture } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport { Mesh } from 'three';\ninterface Props {\n  radius: number;\n  position?: [number, number, number];\n}\n\nconst Clouds = ({ radius, position }: Props) => {\n  const [earthClouds] = useTexture(['textures/earth-clouds.jpg']);\n  const cloudsRef = useRef<Mesh>(null);\n\n  useFrame(({ clock }) => {\n    if (!cloudsRef.current) return;\n    cloudsRef.current.rotation.y = clock.elapsedTime * 0.02;\n  });\n\n  return (\n    <Sphere ref={cloudsRef} args={[radius + 0.05, 32, 32]}>\n      <meshPhongMaterial transparent alphaMap={earthClouds} opacity={0.5} />\n    </Sphere>\n  );\n};\n\nexport default Clouds;\n","import * as THREE from 'three';\nimport { Color } from 'three';\nimport { useRef } from 'react';\nimport { Sphere, Stars, useTexture } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport Clouds from '../Clouds';\n\ninterface Props {\n  radius: number;\n  position?: [number, number, number];\n}\n\nconst Earth = ({ radius = 1, position }: Props) => {\n  const ref = useRef<THREE.Mesh>();\n\n  const [earthSpecular] = useTexture(['textures/earth-specular.jpg']);\n\n  useFrame(() => {\n    ref.current!.rotation.y += 0.001;\n  });\n\n  return (\n    <group ref={ref} position={position} scale={1}>\n      <Clouds radius={radius} />\n      <Sphere args={[radius, 32, 32]}>\n        <meshPhongMaterial\n          attach=\"material\"\n          color=\"#489396\"\n          shininess={5}\n          map={earthSpecular}\n          specularMap={earthSpecular}\n          specular={new Color('#2BC6CF')}\n        />\n      </Sphere>\n      <Stars radius={100} depth={50} count={3000} factor={6} saturation={0} fade />\n    </group>\n  );\n};\n\nexport default Earth;\n","import * as THREE from 'three';\nimport { useEffect, useState } from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nconst VEC = new THREE.Vector3();\nconst STEP_VALUE = 0.2;\n\nconst CameraControl = () => {\n  const [isAction, setIsAction] = useState(true);\n\n  useFrame((state) => {\n    isAction && state.camera.position.lerp(VEC.set(0, 0, 15), STEP_VALUE);\n  });\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsAction(false);\n    }, 1500);\n    return () => clearTimeout(timer);\n  }, []);\n\n  return <mesh />;\n};\n\nexport default CameraControl;\n","import { Suspense } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@chakra-ui/react';\nimport { Canvas } from '@react-three/fiber';\nimport { TrackballControls } from '@react-three/drei'; //7.0.1 써 에러x\n\nimport Typo3D from './components/Typo3D';\nimport Image3D from './components/Image3D';\nimport Earth from './components/Earth';\nimport CameraControl from './components/CameraControl';\n\nimport './index.scss';\n\nconst Home = () => {\n  return (\n    <div className=\"home-wrap\">\n      <Canvas camera={{ position: [20, 20, 300], fov: 30 }}>\n        <ambientLight />\n        <pointLight position={[10, 10, 10]} />\n\n        <Suspense fallback={null}>\n          <Image3D size={1.2} position={[0, 0.1, 0]} />\n          <mesh position={[0, 1.8, 0]}>\n            <Typo3D hAlign=\"left\" color={'#0e978c'} size={1.4} children=\"Picasso\" />\n          </mesh>\n\n          <Earth radius={2} position={[0, -3.4, 0]} />\n          <CameraControl />\n        </Suspense>\n\n        <TrackballControls panSpeed={0.4} minDistance={9} maxDistance={40} />\n      </Canvas>\n\n      <Link to=\"/room/abc\">\n        <Button w=\"250px\" h=\"60px\" colorScheme=\"yellow\" size=\"lg\" fontWeight=\"bold\" variant=\"solid\">\n          START\n        </Button>\n      </Link>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport './index.scss';\n\ninterface Props {\n  children: React.ReactNode;\n  id?: string;\n}\n\nconst PageTemplate = ({ children, id }: Props) => {\n  return (\n    <div className=\"page-template\" id={id}>\n      {children}\n    </div>\n  );\n};\n\nexport default PageTemplate;\n","import EventEmitter from 'events';\n\nconst event = new EventEmitter();\n\nexport default event;\n","import * as workerTimers from 'worker-timers';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Dispatch, select } from 'store';\nimport { SocketMessageType } from 'types/enums';\nimport { QUESTIONS } from 'constants/index';\nimport { useGameStatus } from '../hooks';\nimport { drawing } from 'pages/Room/containers/CanvasContainer';\nimport event from 'core/event';\n\nconst useGameHandler = () => {\n  const { participants } = useSelector(select.room.state);\n  const { time } = useSelector(select.game.state);\n  const { isWaiting, isPlaying } = useGameStatus();\n  const dispatch = useDispatch<Dispatch>();\n  const userCount = participants.length;\n\n  // 참여 인원별 게임 상태 핸들링\n  useEffect(() => {\n    if (userCount >= 2 && isWaiting) {\n      dispatch.game.init({ questions: QUESTIONS });\n    } else if (userCount <= 1 && !isWaiting) {\n      dispatch.game.wait();\n    }\n  }, [isWaiting, userCount, dispatch]);\n\n  // 게임 진행 시간별 핸들링\n  useEffect(() => {\n    if (!isPlaying) {\n      return;\n    }\n\n    workerTimers.setTimeout(() => {\n      if (time === 0) {\n        dispatch.game.complete();\n      } else {\n        dispatch.game.setTime(time - 1);\n      }\n    }, 1000);\n  }, [isPlaying, time, dispatch]);\n\n  // 게임 시작시 그리기 클리어\n  useEffect(() => {\n    if (isPlaying && drawing) {\n      drawing.clearAll();\n    }\n  }, [isPlaying]);\n\n  // 정답자 소켓 메시지 핸들링\n  useEffect(() => {\n    event.removeAllListeners(SocketMessageType.CORRECT_USER);\n    event.on(SocketMessageType.CORRECT_USER, ({ body }) => {\n      const { userId } = body;\n      dispatch.gamePoint.correctUser({ userId });\n    });\n  }, [dispatch]);\n};\n\nexport default useGameHandler;\n","import { useSelector } from 'react-redux';\nimport { select } from 'store';\nimport { GameStatus } from 'types/enums';\n\nconst useGameStatus = () => {\n  const { status } = useSelector(select.game.state);\n\n  return {\n    isWaiting: status === GameStatus.WAITING,\n    isStandByTurn: status === GameStatus.STANDBY_TURN,\n    isPlaying: status === GameStatus.PLAYING,\n    isComplete: status === GameStatus.COMPLETED,\n    isGameOver: status === GameStatus.GAMEOVER,\n  };\n};\n\nexport default useGameStatus;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Dispatch, select } from 'store';\nimport { SocketMessageType } from 'types/enums';\nimport { useGameStatus, useMyTurn } from '../hooks';\nimport { sendMessage } from 'core/socket';\nimport event from 'core/event';\n\nconst useGameSync = () => {\n  const { time, painterId, status, round } = useSelector(select.game.state);\n  const { isWaiting } = useGameStatus();\n  const dispatch = useDispatch<Dispatch>();\n  const isMyTurn = useMyTurn();\n\n  // 진행중 입장한 유저 게임 진행 상태 싱크\n  useEffect(() => {\n    event.removeAllListeners('join');\n    event.on('join', (data) => {\n      console.log('[디버깅] join :>> ', data);\n      if (!isWaiting && isMyTurn) {\n        sendMessage({\n          type: SocketMessageType.SYNC_GAME_STATUS,\n          to: data.userInfo.userId,\n          body: {\n            painterId,\n            status,\n            round,\n            time,\n          },\n        });\n      }\n    });\n  }, [isWaiting, isMyTurn, painterId, round, time, status]);\n\n  useEffect(() => {\n    event.removeAllListeners(SocketMessageType.SYNC_GAME_STATUS);\n    event.on(SocketMessageType.SYNC_GAME_STATUS, ({ body }) => {\n      console.log('[디버깅] SYNC_GAME_STATUS :>> ', body);\n      const { status, painterId, round, time } = body;\n\n      dispatch.game.setPainterId(painterId);\n      dispatch.game.setTime(time);\n      dispatch.game.setRound(round);\n      dispatch.game.setStatus(status);\n    });\n  }, [dispatch]);\n};\n\nexport default useGameSync;\n","import { useSelector } from 'react-redux';\nimport { select } from 'store';\n\nconst useMyTurn = () => {\n  const { userInfo } = useSelector(select.room.state);\n  const { painterId } = useSelector(select.game.state);\n\n  return userInfo?.userId === painterId;\n};\n\nexport default useMyTurn;\n","import { useSelector } from 'react-redux';\nimport { select } from 'store';\n\nconst usePainterInfo = () => {\n  const { participants } = useSelector(select.room.state);\n  const { painterId } = useSelector(select.game.state);\n\n  return participants.find(({ userId }) => userId === painterId);\n};\n\nexport default usePainterInfo;\n","import { DrawingTools } from 'types/enums';\n\nconst DEFAULT_MODE = DrawingTools.PEN;\nconst DEFAULT_COLOR = 'black';\nconst DEFAULT_SIZE = 3;\nconst LINE_CAP = 'round';\n\ntype Cursor = {\n  x: number;\n  y: number;\n};\n\ninterface Config {\n  mode: string;\n  color: string;\n  size: number;\n}\n\nexport interface DrawingConstructorParams {\n  canvas: HTMLCanvasElement;\n  context: CanvasRenderingContext2D;\n  config?: Config;\n}\n\nexport interface DrawParams {\n  context: CanvasRenderingContext2D;\n  config: Config;\n  startPoint: Cursor;\n  currentPoint: Cursor;\n}\n\nexport class DrawingCore {\n  public context: CanvasRenderingContext2D;\n  public canvas: HTMLCanvasElement;\n  public config: Config;\n  public startPoint: Cursor = { x: 0, y: 0 };\n  public currentPoint: Cursor = { x: 0, y: 0 };\n  public getPoint(e: MouseEvent) {\n    return {\n      x: e.offsetX,\n      y: e.offsetY,\n    };\n  }\n\n  constructor({ canvas, context, config }: DrawingConstructorParams) {\n    this.canvas = canvas;\n    this.context = context;\n    this.config = config ?? {\n      size: DEFAULT_SIZE,\n      color: DEFAULT_COLOR,\n      mode: DEFAULT_MODE,\n    };\n  }\n\n  start() {\n    if (!this.context) {\n      console.error('컨텍스트를 찾을 수 없습니다.');\n      return;\n    }\n\n    this.context.beginPath();\n  }\n\n  draw({ context, config, startPoint, currentPoint }: DrawParams) {\n    const { mode, size, color } = config;\n\n    if (mode === DrawingTools.PEN) {\n      context.globalCompositeOperation = 'source-over'; // 기본 설정으로 새로운 도형을 위에 그린다.\n      context.strokeStyle = color;\n      context.lineWidth = size;\n    } else if (mode === DrawingTools.ERASER) {\n      context.globalCompositeOperation = 'destination-out'; // 새롭게 그려지는 도형이 이전 그림과 겹치는 부분을 투명하게 바꾼다.\n      context.lineWidth = size * 4;\n    }\n\n    context.lineJoin = LINE_CAP;\n    context.lineCap = LINE_CAP;\n    context.moveTo(startPoint.x, startPoint.y); // 시작점\n    context.lineTo(currentPoint.x, currentPoint.y); // 현재점\n    context.stroke();\n  }\n\n  end() {\n    if (!this.context) {\n      console.error('컨텍스트를 찾을 수 없습니다.');\n      return;\n    }\n\n    this.context.closePath();\n  }\n\n  clear() {\n    const { width, height } = this.context.canvas;\n    this.context.clearRect(0, 0, width, height);\n  }\n\n  setConfig(config: Partial<Config>) {\n    const newConf = {\n      ...this.config,\n      ...config,\n    };\n\n    this.config = newConf;\n  }\n\n  getConfig() {\n    return this.config;\n  }\n\n  getCanvasSize(): Picasso.CanvasSizeType {\n    const { width, height, scrollWidth, scrollHeight } = this.canvas;\n\n    return {\n      width,\n      height,\n      scrollWidth,\n      scrollHeight,\n      scaleX: width / scrollWidth,\n      scaleY: height / scrollHeight,\n    };\n  }\n}\n","import { DrawingCore, DrawingConstructorParams, DrawParams } from './drawing-core';\nimport { sendMessage } from 'core/socket';\nimport { DrawingStatus, SocketMessageType } from 'types/enums';\nimport event from 'core/event';\n\ntype MouseEventHandler = (e: MouseEvent) => void;\ntype KeyboardEventHandler = (e: KeyboardEvent) => void;\n\nexport class Drawing extends DrawingCore {\n  private enabled = false;\n  private isDragging = false;\n  private drawCommandQueue: DrawParams[][] = [];\n  private currentDrawCommand: DrawParams[] = [];\n  private redoDrawingStack: DrawParams[][] = [];\n  private canvasSize: Picasso.CanvasSizeType | null = null;\n  private scaleX: number = 1;\n  private scaleY: number = 1;\n  private mouseDownHandler: MouseEventHandler | null = null;\n  private mouseMoveHandler: MouseEventHandler | null = null;\n  private mouseUpHandler: MouseEventHandler | null = null;\n  private keyDownHandler: KeyboardEventHandler | null = null;\n\n  constructor(params: DrawingConstructorParams) {\n    super(params);\n    this.init();\n  }\n\n  init() {\n    this.mouseDownHandler = this.onMouseDown.bind(this);\n    this.mouseMoveHandler = this.onMouseMove.bind(this);\n    this.mouseUpHandler = this.onMouseUp.bind(this);\n    this.keyDownHandler = this.onKeyDown.bind(this);\n    this.bindSocketEventHandler();\n  }\n\n  onMouseDown(e: MouseEvent) {\n    console.log('onMouseDown :>> ', e);\n    this.isDragging = true;\n    this.canvasSize = this.getCanvasSize();\n    this.startPoint = this.getPoint(e);\n    this.start();\n    this.currentDrawCommand = [];\n    this.redoDrawingStack = [];\n\n    const { size, color, mode } = this.getConfig();\n\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.START,\n        drawingMode: mode,\n        lineWidth: size,\n        color,\n        canvasSize: this.canvasSize,\n        point: this.startPoint,\n      },\n    });\n  }\n\n  onMouseMove(e: MouseEvent) {\n    if (!this.isDragging) {\n      return;\n    }\n\n    this.currentPoint = this.getPoint(e);\n\n    // 캔버스 사이즈 변화에 대한 좌표 처리\n    const { scaleX, scaleY } = this.canvasSize!;\n    const startPoinByScale = {\n      x: this.startPoint.x * scaleX,\n      y: this.startPoint.y * scaleY,\n    };\n    const currentPointByScale = {\n      x: this.currentPoint.x * scaleX,\n      y: this.currentPoint.y * scaleY,\n    };\n    const drawingCommand = {\n      context: this.context,\n      config: this.config,\n      startPoint: startPoinByScale,\n      currentPoint: currentPointByScale,\n    };\n\n    this.draw(drawingCommand);\n    this.startPoint = this.currentPoint;\n    this.currentDrawCommand.push(drawingCommand);\n\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.DRAW,\n        point: this.currentPoint,\n      },\n    });\n  }\n\n  undo() {\n    const drawing = this.drawCommandQueue.pop();\n\n    // []가 들어있는 경우가 있어서, 유효한 커맨드가 존재할때까지 반복\n    if (drawing?.length === 0 && this.drawCommandQueue.length > 0) {\n      this.undo();\n    } else if (drawing) {\n      this.redoDrawingStack.push(drawing);\n    }\n\n    this.restoreDraw();\n\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.REDO,\n      },\n    });\n  }\n\n  redo() {\n    const drawing = this.redoDrawingStack.pop();\n\n    // []가 들어있는 경우가 있어서, 유효한 커맨드가 존재할때까지 반복\n    if (drawing?.length === 0 && this.redoDrawingStack.length > 0) {\n      this.redo();\n    } else if (drawing) {\n      this.drawCommandQueue.push(drawing);\n    }\n\n    this.restoreDraw();\n\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.REDO,\n      },\n    });\n  }\n\n  restoreDraw() {\n    this.clear();\n    this.drawCommandQueue.forEach((drawing) => {\n      this.context.beginPath();\n      drawing.forEach((drawingParams) => {\n        this.draw(drawingParams);\n      });\n      this.context.closePath();\n    });\n  }\n\n  onMouseUp(e: MouseEvent) {\n    console.log('onMouseUp :>> ', e);\n    this.isDragging = false;\n    this.end();\n    this.drawCommandQueue.push(this.currentDrawCommand);\n    this.currentDrawCommand = [];\n\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.END,\n      },\n    });\n  }\n\n  onKeyDown(e: KeyboardEvent) {\n    if (e.key === 'z') {\n      if (e.metaKey) {\n        e.preventDefault();\n        if (e.shiftKey) {\n          this.redo();\n        } else {\n          this.undo();\n        }\n      }\n    }\n  }\n\n  clearAll() {\n    this.clear();\n    sendMessage({\n      type: SocketMessageType.DRAWING,\n      body: {\n        drawingStatus: DrawingStatus.CLEAR_ALL,\n      },\n    });\n  }\n\n  enable() {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n    this.bindMouseEventHandler();\n    this.bindKeyboardEventHandler();\n  }\n\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n    this.unbindMouseEventHandler();\n    this.unbindKeyboardEventHandler();\n  }\n\n  dispose() {\n    this.unbindMouseEventHandler();\n    this.unbindKeyboardEventHandler();\n    this.mouseDownHandler = null;\n    this.mouseMoveHandler = null;\n    this.mouseUpHandler = null;\n    this.keyDownHandler = null;\n  }\n\n  bindMouseEventHandler() {\n    if (!(this.mouseDownHandler && this.mouseMoveHandler && this.mouseUpHandler)) {\n      return;\n    }\n\n    this.canvas.addEventListener('mousedown', this.mouseDownHandler);\n    this.canvas.addEventListener('mousemove', this.mouseMoveHandler);\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  bindKeyboardEventHandler() {\n    if (!this.keyDownHandler) {\n      return;\n    }\n\n    window.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  unbindMouseEventHandler() {\n    if (!(this.mouseDownHandler && this.mouseMoveHandler && this.mouseUpHandler)) {\n      return;\n    }\n\n    this.canvas.removeEventListener('mousedown', this.mouseDownHandler);\n    this.canvas.removeEventListener('mousemove', this.mouseMoveHandler);\n    this.canvas.removeEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  unbindKeyboardEventHandler() {\n    if (!this.keyDownHandler) {\n      return;\n    }\n\n    window.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  bindSocketEventHandler() {\n    event.on(SocketMessageType.DRAWING, ({ body }: Picasso.DrawingMessage) => {\n      const { drawingStatus, drawingMode, lineWidth, color, point, canvasSize } = body;\n\n      // 출제자와 캔버스 사이즈 차이로 인한 좌표 보정 처리\n      if (canvasSize) {\n        this.canvasSize = this.getCanvasSize();\n        this.scaleX = this.canvasSize.width / canvasSize.scrollWidth;\n        this.scaleY = this.canvasSize.height / canvasSize.scrollHeight;\n      }\n\n      switch (drawingStatus) {\n        case DrawingStatus.START:\n          this.setConfig({\n            mode: drawingMode,\n            size: lineWidth,\n            color,\n          });\n          this.startPoint = {\n            x: point.x * this.scaleX,\n            y: point.y * this.scaleY,\n          };\n          this.start();\n          break;\n        case DrawingStatus.DRAW:\n          this.currentPoint = {\n            x: point.x * this.scaleX,\n            y: point.y * this.scaleY,\n          };\n          this.draw({\n            context: this.context,\n            config: this.config,\n            startPoint: this.startPoint,\n            currentPoint: this.currentPoint,\n          });\n          this.startPoint = this.currentPoint;\n          break;\n        case DrawingStatus.END:\n          this.end();\n          break;\n        case DrawingStatus.CLEAR_ALL:\n          this.clear();\n          break;\n        case DrawingStatus.UNDO:\n          this.undo();\n          break;\n        case DrawingStatus.REDO:\n          this.redo();\n          break;\n      }\n    });\n  }\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Dispatch, select } from 'store';\n\nimport { Flex, Grid, GridItem, IconButton, InputGroup, Input, InputRightElement } from '@chakra-ui/react';\nimport { ArrowUpIcon } from '@chakra-ui/icons';\n\nimport { sendMessage } from 'core/socket';\nimport { SocketMessageType } from 'types/enums';\nimport event from 'core/event';\nimport cn from 'classnames';\nimport './index.scss';\n\nconst ChatContainer = () => {\n  const { userInfo, participants } = useSelector(select.room.state);\n  const { chatList } = useSelector(select.chat.state);\n  const dispatch = useDispatch<Dispatch>();\n  const listWrapRef = useRef<HTMLDivElement>(null);\n  const textRef = useRef<HTMLInputElement>(null);\n\n  const handleScrollToBottom = useCallback(() => {\n    const $listWrap = listWrapRef.current;\n    if (!$listWrap) {\n      return;\n    }\n\n    $listWrap.scrollTop = $listWrap.scrollHeight;\n  }, [listWrapRef]);\n\n  const handleSendMessage = useCallback(() => {\n    const message = textRef.current?.value;\n    const timestamp = new Date().getTime();\n\n    if (!textRef.current || !message || !userInfo) {\n      return;\n    }\n\n    const body = {\n      message,\n      timestamp,\n    };\n\n    sendMessage({\n      type: SocketMessageType.CHAT,\n      body,\n    });\n\n    const { userId, nickName } = userInfo;\n    dispatch.chat.addChat({\n      ...body,\n      isMine: true,\n      userId,\n      nickName,\n    });\n    dispatch.game.checkUserAnswer({\n      userId,\n      text: message.trim(),\n    });\n\n    textRef.current.value = '';\n    setTimeout(() => handleScrollToBottom(), 0);\n  }, [dispatch, userInfo, handleScrollToBottom]);\n\n  const handleKeyUp = useCallback(\n    (e) => {\n      if (e.shiftKey) {\n        return;\n      }\n\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        handleSendMessage();\n      }\n    },\n    [handleSendMessage]\n  );\n\n  // NOTE: 한글 마지막 글자 두번 처리되는이슈로 keydown에서도 이벤트 핸들링 필요\n  const handleKeyDown = useCallback((e) => {\n    if (e.shiftKey) {\n      return;\n    }\n\n    if (e.key === 'Enter') {\n      e.preventDefault();\n    }\n  }, []);\n\n  const findParticipantInfo = useCallback(\n    (userId: string) => {\n      return participants.find((data) => data.userId === userId);\n    },\n    [participants]\n  );\n\n  const onChat = useCallback(\n    ({ senderId, body }) => {\n      const { timestamp, message } = body;\n      const nickName = findParticipantInfo(senderId)?.nickName ?? null;\n\n      if (nickName) {\n        dispatch.chat.addChat({\n          userId: senderId,\n          nickName,\n          timestamp,\n          message,\n        });\n\n        setTimeout(() => handleScrollToBottom(), 0);\n      }\n    },\n    [dispatch, findParticipantInfo, handleScrollToBottom]\n  );\n\n  useEffect(() => {\n    event.removeAllListeners(SocketMessageType.CHAT);\n    event.on(SocketMessageType.CHAT, onChat);\n  }, [onChat]);\n\n  return (\n    <Grid h=\"100%\" templateRows=\"repeat(10, 1fr)\" borderRadius={6} overflow={'hidden'}>\n      <GridItem rowSpan={9} className=\"chat-list-wrap\" ref={listWrapRef}>\n        <ul>\n          {chatList.map(({ isMine, nickName, message }, i) => (\n            <li className={cn({ mine: isMine })} key={i}>\n              <p className=\"nickname\">{nickName}</p>\n              <p className=\"body\">{message}</p>\n            </li>\n          ))}\n        </ul>\n      </GridItem>\n      <GridItem rowSpan={1}>\n        <Flex h=\"100%\" alignItems=\"center\" p=\"10px\">\n          <InputGroup size=\"lg\">\n            <Input\n              fontSize=\"16px\"\n              bg=\"#fff\"\n              pr=\"4.5rem\"\n              type=\"text\"\n              placeholder=\"메시지를 입력해주세요!\"\n              ref={textRef}\n              onKeyDown={handleKeyDown}\n              onKeyUp={handleKeyUp}\n            />\n            <InputRightElement width=\"4rem\" mr=\"4px\" justifyContent=\"flex-end\">\n              <IconButton\n                aria-label=\"전송\"\n                size=\"md\"\n                bg=\"gray.300\"\n                icon={<ArrowUpIcon />}\n                onClick={handleSendMessage}\n              />\n            </InputRightElement>\n          </InputGroup>\n        </Flex>\n      </GridItem>\n    </Grid>\n  );\n};\n\nexport default ChatContainer;\n","import { Box } from '@chakra-ui/react';\n\ninterface Props {\n  word: string;\n  isBlind: boolean;\n}\n\nconst GameQuestion = ({ word, isBlind }: Props) => {\n  if (!word) {\n    return null;\n  }\n\n  return (\n    <Box bg=\"green.400\" minWidth=\"100px\" textAlign=\"center\" fontWeight={600} p={2} color=\"white\" borderRadius=\"6\">\n      {isBlind ? Array.from({ length: word.length }).fill(' O ') : word}\n    </Box>\n  );\n};\n\nexport default GameQuestion;\n","import { Box, Text } from '@chakra-ui/react';\nimport './index.scss';\n\ninterface Props {\n  round: number;\n  totalRound: number;\n  isWaiting: boolean;\n}\n\nconst GameRound = ({ round, totalRound, isWaiting }: Props) => {\n  return (\n    <Box className=\"game-round\" textAlign=\"right\">\n      <Text fontSize=\"xs\" color=\"blackAlpha.600\">\n        라운드\n      </Text>\n      <Text color=\"blackAlpha.600\">\n        {isWaiting ? (\n          <Text as=\"strong\" color=\"blackAlpha.900\">\n            대기중\n          </Text>\n        ) : (\n          <>\n            <Text as=\"strong\" color=\"blackAlpha.900\">\n              {round}\n            </Text>{' '}\n            / {totalRound}\n          </>\n        )}\n      </Text>\n    </Box>\n  );\n};\n\nexport default GameRound;\n","export default __webpack_public_path__ + \"static/media/tick-tock.f2342ab4.mp3\";","import { Box, Text } from '@chakra-ui/react';\nimport { useEffect } from 'react';\nimport useSound from 'use-sound';\n\nimport tickTock from 'assets/sound/tick-tock.mp3';\nimport './index.scss';\n\ninterface Props {\n  timeCount?: number;\n  isWaiting: boolean;\n}\n\nconst GameTimer = ({ timeCount = 60, isWaiting }: Props) => {\n  // 10초 미만시 강조 컬러\n  const isNeedSpeedUp = timeCount < 10;\n  const isTimeout = timeCount === 0;\n\n  const [play, { stop }] = useSound(tickTock, {\n    playbackRate: 2,\n    interrupt: true,\n  });\n\n  useEffect(() => {\n    if (isNeedSpeedUp && !isTimeout) {\n      play({\n        forceSoundEnabled: true,\n      });\n    } else {\n      stop();\n    }\n    return () => {\n      stop();\n    };\n  }, [isNeedSpeedUp, isTimeout, play, stop]);\n\n  return (\n    <Box className=\"game-timer\">\n      <Text className=\"timer-emoji\">⏰</Text>\n      {isTimeout ? (\n        <Text fontSize=\"sm\" color=\"gray.500\">\n          시간초과!\n        </Text>\n      ) : (\n        <Text fontSize=\"xl\" fontWeight={600} color={isNeedSpeedUp ? 'red.500' : 'blackAlpha.900'}>\n          {isWaiting ? '∞' : timeCount}\n        </Text>\n      )}\n    </Box>\n  );\n};\n\nexport default GameTimer;\n","import { Box } from '@chakra-ui/react';\nimport { CheckIcon } from '@chakra-ui/icons';\nimport cn from 'classnames';\nimport './index.scss';\n\ninterface Props {\n  color: string;\n  selected: boolean;\n  onClick?: (color: string) => void;\n}\n\nconst PaletteColor = ({ color, selected, onClick }: Props) => {\n  const isWhiteColor = color === '#ffffff';\n\n  return (\n    <Box className={cn('palette-card', { selected })} backgroundColor={color} onClick={() => onClick?.(color)}>\n      {selected && (\n        <span className=\"icon-checked\">\n          <CheckIcon color={isWhiteColor ? '#000' : '#fff'} w={3} h={3} />\n        </span>\n      )}\n    </Box>\n  );\n};\n\nexport default PaletteColor;\n","import { Slider, SliderTrack, SliderFilledTrack, SliderThumb } from '@chakra-ui/react';\nimport { DEFAULT_LINE_SIZE } from 'constants/index';\n\ninterface Props {\n  value?: number;\n  onSliderChange: (val: number) => void;\n}\n\nconst PaletteSlider = ({ value = DEFAULT_LINE_SIZE, onSliderChange }: Props) => {\n  return (\n    <Slider\n      aria-label=\"slider-ex-1\"\n      defaultValue={value}\n      min={1}\n      max={20}\n      colorScheme=\"teal\"\n      onChange={(val) => onSliderChange(val)}\n    >\n      <SliderTrack>\n        <SliderFilledTrack />\n      </SliderTrack>\n      <SliderThumb />\n    </Slider>\n  );\n};\n\nexport default PaletteSlider;\n","import { PROFILE_CHARACTERS } from 'constants/index';\nimport './index.scss';\n\ninterface Props {\n  index: number;\n  size?: number;\n}\n\nconst ProfileAvatar = ({ index = 0, size = 40 }: Props) => {\n  return (\n    <div className=\"profile-avatar\" style={{ width: `${size}px`, fontSize: `${size}px` }}>\n      {PROFILE_CHARACTERS[index]}\n    </div>\n  );\n};\n\nexport default ProfileAvatar;\n","import { Box, Heading } from '@chakra-ui/react';\nimport { motion } from 'framer-motion';\n\nimport './index.scss';\n\ninterface Props {\n  children?: React.ReactNode;\n  title: string | React.ReactNode;\n}\n\nconst variants = {\n  initial: { opacity: 0, y: 30, scale: 0.85 },\n  visible: { opacity: 1, y: 0, scale: 1 },\n};\n\nconst ResultLayer = ({ children, title }: Props) => {\n  return (\n    <motion.div initial=\"initial\" animate=\"visible\" variants={variants} transition={{ duration: 0.3 }}>\n      <Heading mb={5} color=\"white\" textAlign=\"center\">\n        {title}\n      </Heading>\n      {children && (\n        <Box bgColor=\"white\" width={370} minHeight={200} borderRadius={6} padding={6} marginX=\"auto\">\n          {children}\n        </Box>\n      )}\n    </motion.div>\n  );\n};\n\nexport default ResultLayer;\n","import { Text } from '@chakra-ui/react';\nimport ResultLayer from '../ResultLayer';\n\nimport './index.scss';\n\ninterface Props {\n  isMyTurn: boolean;\n  word: string;\n  painterName: string;\n}\n\nconst NextTurnContent = ({ isMyTurn, word, painterName }: Props) => {\n  const PainterText = (\n    <Text as=\"p\" lineHeight={1.5}>\n      {painterName}님 차례에요!\n      <br />\n      이번 문제는\n      <Text m={2} color=\"green.300\" as=\"span\" textDecoration=\"underline\">\n        {word}\n      </Text>\n      입니다!\n    </Text>\n  );\n\n  const GamerText = (\n    <Text as=\"p\" lineHeight={1.5}>\n      <Text m={2} color=\"green.300\" as=\"span\" textDecoration=\"underline\">\n        {painterName}\n      </Text>\n      님이 그림 그릴 차례입니다!\n    </Text>\n  );\n\n  return <ResultLayer title={isMyTurn ? PainterText : GamerText} />;\n};\n\nexport default NextTurnContent;\n","import { useSelector } from 'react-redux';\nimport { select } from 'store';\nimport { Text, Badge } from '@chakra-ui/react';\nimport { ProfileAvatar } from 'pages/Room/components';\nimport ResultLayer from '../ResultLayer';\n\nimport './index.scss';\n\ninterface Props {\n  userList: Picasso.UserInfo[];\n  word: string;\n}\n\nconst CompleteContent = ({ userList, word }: Props) => {\n  const { correctUserList } = useSelector(select.gamePoint.state);\n\n  return (\n    <ResultLayer\n      title={\n        <>\n          정답은\n          <Text m={2} color=\"green.300\" as=\"span\" textDecoration=\"underline\">\n            {word}\n          </Text>\n          입니다!\n        </>\n      }\n    >\n      <ul className=\"result-score\">\n        {userList.map(({ nickName, userId, profileIndex }) => {\n          const currectUserInfo = correctUserList.find((user) => user.userId === userId);\n          return (\n            <li key={userId}>\n              <div className=\"rank-name\">\n                <ProfileAvatar size={20} index={profileIndex} />\n                <Text m={2} color={currectUserInfo ? 'green.400' : 'black'} as=\"strong\">\n                  {nickName} {currectUserInfo && '🎉'}\n                </Text>\n              </div>\n              <Badge className=\"rank-score\" colorScheme={currectUserInfo ? 'green' : 'gray'}>\n                <span>{currectUserInfo?.point ?? 0}</span> 점\n              </Badge>\n            </li>\n          );\n        })}\n      </ul>\n    </ResultLayer>\n  );\n};\n\nexport default CompleteContent;\n","import { useEffect } from 'react';\nimport { Text, Badge } from '@chakra-ui/react';\nimport cn from 'classnames';\nimport confetti from 'canvas-confetti';\n\nimport { ProfileAvatar } from 'pages/Room/components';\nimport { useSelector } from 'react-redux';\nimport { select } from 'store';\n\nimport ResultLayer from '../ResultLayer';\n\nimport './index.scss';\n\ninterface Props {\n  userList: Picasso.UserInfo[];\n}\n\nconst GameOverContent = ({ userList }: Props) => {\n  const { correctUserList } = useSelector(select.gamePoint.state);\n\n  useEffect(() => {\n    confetti({\n      particleCount: 100,\n      spread: 150,\n      zIndex: 1000,\n    });\n  }, []);\n\n  return (\n    <ResultLayer title=\"🎉 순위를 발표합니다!\">\n      <ul className=\"result-score\">\n        {userList.map(({ nickName, userId, profileIndex }, index) => {\n          const currectUserInfo = correctUserList.find((user) => user.userId === userId);\n          const isFirstUser = index === 0;\n          const isSecondUser = index === 1;\n          const isThirdUser = index === 2;\n\n          return (\n            <li key={userId} className={cn({ winner: isFirstUser })}>\n              <div className=\"rank-name\">\n                <span className=\"medal\">\n                  {isFirstUser && '🏅'} {isSecondUser && '🥈'} {isThirdUser && '🥉'}\n                </span>\n                <div className=\"avatar-wrap\">\n                  <ProfileAvatar size={25} index={profileIndex} />\n                  {isFirstUser && <span className=\"crown\">👑</span>}\n                </div>\n                <Text m={2} color=\"black\" as=\"strong\">\n                  {nickName} {isFirstUser && '🎉'}\n                </Text>\n              </div>\n              <Badge className=\"rank-score\" colorScheme=\"gray\">\n                <span>{currectUserInfo?.point ?? 0}</span> 점\n              </Badge>\n            </li>\n          );\n        })}\n      </ul>\n    </ResultLayer>\n  );\n};\n\nexport default GameOverContent;\n","import { Flex } from '@chakra-ui/react';\nimport {\n  GameQuestion,\n  GameRound,\n  GameTimer,\n  NextTurnContent,\n  CompleteContent,\n  GameOverContent,\n} from '../../components';\nimport { CanvasContainer } from '../../containers';\n\nimport { useSelector } from 'react-redux';\nimport { select } from 'store';\nimport { useMyTurn, usePainterInfo, useGameStatus } from '../../hooks';\nimport './index.scss';\n\nconst GameContentContainer = () => {\n  const { participants, userInfo } = useSelector(select.room.state);\n  const { time, questions, round } = useSelector(select.game.state);\n  const { correctUserList } = useSelector(select.gamePoint.state);\n  const isVisibleOverlayContent = useSelector(select.game.isVisibleOverlayContent);\n  const isCurrectUser = correctUserList.find((user) => user.userId === userInfo?.userId);\n\n  const { isWaiting, isStandByTurn, isComplete, isGameOver } = useGameStatus();\n  const painterName = usePainterInfo()?.nickName ?? '';\n  const isMyTurn = useMyTurn();\n  const word = isWaiting ? '한명 더 들어오면 시작 할 수 있어요!' : questions[round - 1];\n  const isBlind = !isWaiting && !isMyTurn && !isCurrectUser;\n\n  return (\n    <div className=\"game-content-container\">\n      <Flex className=\"header\" justifyContent=\"space-between\">\n        <GameTimer timeCount={time} isWaiting={isWaiting} />\n        <GameQuestion word={word} isBlind={isBlind} />\n        <GameRound round={round} totalRound={questions.length} isWaiting={isWaiting} />\n      </Flex>\n\n      <Flex className=\"body\" justifyContent=\"center\" alignItems=\"center\">\n        <CanvasContainer />\n\n        {isVisibleOverlayContent && (\n          <Flex className=\"overlay-wrap\" justifyContent=\"center\" alignItems=\"center\">\n            {isStandByTurn && <NextTurnContent isMyTurn={isMyTurn} word={word} painterName={painterName} />}\n            {isComplete && <CompleteContent userList={participants} word={word} />}\n            {isGameOver && <GameOverContent userList={participants} />}\n          </Flex>\n        )}\n      </Flex>\n    </div>\n  );\n};\n\nexport default GameContentContainer;\n","import { VStack, Center, Text } from '@chakra-ui/react';\nimport { PROFILE_CHARACTERS } from 'constants/index';\nimport { usePainterInfo } from '../../hooks';\n\nconst GameStatusContainer = () => {\n  const painterInfo = usePainterInfo();\n  return (\n    <Center height=\"100%\" p={3} bg=\"gray.500\" color=\"white\" borderRadius={6}>\n      <VStack>\n        {painterInfo ? (\n          <>\n            <Text fontSize=\"3xl\">🎨 {PROFILE_CHARACTERS[painterInfo.profileIndex]}</Text>\n            <Text>{painterInfo.nickName} 님이 그림 그릴 차례입니다!</Text>\n          </>\n        ) : (\n          <Text>게임 준비중입니다.</Text>\n        )}\n      </VStack>\n    </Center>\n  );\n};\n\nexport default GameStatusContainer;\n","import { useEffect } from 'react';\nimport { useAnimation } from 'framer-motion';\n\ninterface Props {\n  deps?: React.DependencyList;\n}\n\nconst useMotion = ({ deps = [] }: Props) => {\n  const controls = useAnimation();\n\n  useEffect(() => {\n    controls.start({\n      opacity: [0.5, 1],\n      scale: [0.7, 1.1, 1],\n      y: [15, -10, 0],\n      transition: {\n        delay: 1,\n        x: { type: 'spring', stiffness: 50, velocity: 50 },\n        default: { duration: 0.5 },\n      },\n    });\n\n    // eslint-disable-next-line\n  }, [controls, ...deps]);\n\n  return { controls };\n};\n\nexport default useMotion;\n","import { useState, useCallback, useMemo, useRef } from 'react';\nimport {\n  Container,\n  Heading,\n  Stack,\n  Input,\n  Button,\n  RadioGroup,\n  Radio,\n  Divider,\n  Grid,\n  GridItem,\n  IconButton,\n  Text,\n  FormControl,\n} from '@chakra-ui/react';\nimport { BsArrowRightCircleFill, BsArrowLeft, BsArrowRight } from 'react-icons/bs';\nimport { GiPerspectiveDiceSixFacesRandom } from 'react-icons/gi';\nimport { motion } from 'framer-motion';\nimport { useMotion } from 'hooks';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'store';\nimport { getUuid, getRandomNumber } from 'helpers/utils';\nimport { setStorage, getStorage } from 'helpers/storage';\nimport { PROFILE_CHARACTERS, LOCAL_STORAGE } from 'constants/index';\nimport socket from 'core/socket';\n\nimport './index.scss';\n\ninterface Props {\n  roomId: string;\n}\n\nconst GateContainer = ({ roomId }: Props) => {\n  const randomIndex = getRandomNumber(PROFILE_CHARACTERS.length);\n  const [profileIndex, setProfileIndex] = useState(randomIndex);\n  const [drawTime, setDrawTime] = useState('30');\n  const [round, setRound] = useState('10');\n\n  const dispatch = useDispatch<Dispatch>();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const isPrevDisabled = useMemo(() => profileIndex === 0, [profileIndex]);\n  const isNextDisabled = useMemo(() => profileIndex === PROFILE_CHARACTERS.length - 1, [profileIndex]);\n  const defaultNickName = getStorage(LOCAL_STORAGE.NICK_NAME) || '';\n\n  // 프로필 설정 애니메이션\n  const { controls } = useMotion({ deps: [profileIndex] });\n\n  const getRandomProfile = useCallback(() => {\n    const index = getRandomNumber(PROFILE_CHARACTERS.length);\n    setProfileIndex(index);\n  }, [setProfileIndex]);\n\n  const handlePrevProfile = useCallback(() => {\n    setProfileIndex((index) => index - 1);\n  }, [setProfileIndex]);\n\n  const handleNextProfile = useCallback(() => {\n    setProfileIndex((index) => index + 1);\n  }, [setProfileIndex]);\n\n  const handleEnterRoom = useCallback(() => {\n    const nickName = inputRef.current?.value;\n    if (!nickName) {\n      alert('닉네임을 입력해주세요!');\n      return;\n    }\n\n    const userInfo: Picasso.UserInfo = {\n      userId: getUuid(),\n      nickName,\n      profileIndex,\n    };\n\n    socket.emit('join', { roomId, userInfo });\n    dispatch.room.setUserInfo(userInfo);\n    dispatch.room.setJoinedState(true);\n    setStorage(LOCAL_STORAGE.NICK_NAME, nickName);\n  }, [dispatch, roomId, profileIndex, inputRef]);\n\n  const handleKeyDown = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        handleEnterRoom();\n      }\n    },\n    [handleEnterRoom]\n  );\n\n  return (\n    <Container alignContent=\"center\" className=\"gate-container\">\n      <FormControl>\n        <Stack spacing={5}>\n          <Heading as=\"h1\" size=\"xl\">\n            프로필 설정\n          </Heading>\n          <Input\n            variant=\"outline\"\n            placeholder=\"닉네임을 입력해주세요!\"\n            defaultValue={defaultNickName}\n            maxLength={15}\n            textAlign=\"center\"\n            ref={inputRef}\n            onKeyDown={handleKeyDown}\n            required\n          />\n\n          <Grid templateColumns=\"repeat(5, 1fr)\" alignItems=\"center\" gap={6}>\n            <IconButton\n              colorScheme=\"teal\"\n              aria-label=\"이전\"\n              icon={<BsArrowLeft />}\n              disabled={isPrevDisabled}\n              onClick={handlePrevProfile}\n            />\n            <GridItem colSpan={3} textAlign=\"center\">\n              <motion.div animate={controls}>\n                <Text fontSize=\"7xl\">{PROFILE_CHARACTERS[profileIndex]}</Text>\n              </motion.div>\n            </GridItem>\n\n            <IconButton\n              colorScheme=\"teal\"\n              aria-label=\"다음\"\n              icon={<BsArrowRight />}\n              disabled={isNextDisabled}\n              onClick={handleNextProfile}\n            />\n          </Grid>\n          <Button\n            rightIcon={<GiPerspectiveDiceSixFacesRandom />}\n            onClick={getRandomProfile}\n            colorScheme=\"teal\"\n            size=\"lg\"\n            variant=\"outline\"\n          >\n            랜덤 프로필\n          </Button>\n        </Stack>\n\n        <Stack spacing={5} mt={50}>\n          <Heading as=\"h2\" size=\"md\">\n            게임 설정\n          </Heading>\n\n          <Divider />\n          <Grid templateColumns=\"repeat(2, 1fr)\" gap={6}>\n            <Heading as=\"h3\" size=\"sm\">\n              그리는 시간\n            </Heading>\n\n            <RadioGroup colorScheme=\"teal\" onChange={setDrawTime} value={drawTime}>\n              <Stack direction=\"row\" spacing={5}>\n                <Radio value=\"30\">30초</Radio>\n                <Radio value=\"60\">1분</Radio>\n                <Radio value=\"120\">2분</Radio>\n              </Stack>\n            </RadioGroup>\n          </Grid>\n\n          <Grid templateColumns=\"repeat(2, 1fr)\" gap={6}>\n            <Heading as=\"h3\" size=\"sm\">\n              라운드 수\n            </Heading>\n\n            <RadioGroup colorScheme=\"teal\" onChange={setRound} value={round}>\n              <Stack direction=\"row\" spacing={5}>\n                <Radio value=\"5\">5</Radio>\n                <Radio value=\"10\">10</Radio>\n                <Radio value=\"15\">15</Radio>\n              </Stack>\n            </RadioGroup>\n          </Grid>\n\n          <Button\n            type=\"submit\"\n            rightIcon={<BsArrowRightCircleFill />}\n            colorScheme=\"teal\"\n            size=\"lg\"\n            variant=\"solid\"\n            onClick={handleEnterRoom}\n          >\n            입장하기\n          </Button>\n        </Stack>\n      </FormControl>\n    </Container>\n  );\n};\n\nexport default GateContainer;\n","import { useCallback } from 'react';\nimport { Flex, Spacer, Heading, IconButton } from '@chakra-ui/react';\nimport { IoExitOutline } from 'react-icons/io5';\nimport './index.scss';\n\nconst HeaderContainer = () => {\n  const handleExit = useCallback(() => {\n    window.location.pathname = '';\n  }, []);\n\n  return (\n    <Flex className=\"header-container\" h=\"100%\" p=\"4\" align=\"center\">\n      <Heading fontSize={20} color=\"#fff\">\n        Picasso\n      </Heading>\n      <Spacer />\n      <IconButton aria-label=\"Exit\" fontSize={20} icon={<IoExitOutline />} onClick={handleExit} />\n    </Flex>\n  );\n};\n\nexport default HeaderContainer;\n","import { useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Dispatch, select } from 'store';\nimport { isStorybook } from 'helpers/env';\n\nimport socket, { setupBaseInfo } from 'core/socket';\nimport event from 'core/event';\n\nconst SocketContainer = ({ roomId }: { roomId: string }) => {\n  const { userInfo } = useSelector(select.room.state);\n  const dispatch = useDispatch<Dispatch>();\n\n  const onGateIn = useCallback(\n    ({ participants }) => {\n      if (isStorybook) return;\n      dispatch.room.setSocketState(true);\n      dispatch.room.updateParticipants(participants);\n    },\n    [dispatch]\n  );\n\n  const onJoinUser = useCallback(\n    (data) => {\n      console.log('onJoinUser', data);\n      dispatch.room.updateParticipants(data.participants);\n      event.emit('join', data);\n    },\n    [dispatch]\n  );\n\n  const onLeaveUser = useCallback(\n    (data) => {\n      console.log('onLeaveUser', data);\n      dispatch.room.updateParticipants(data.participants);\n      event.emit('leave', data);\n    },\n    [dispatch]\n  );\n\n  const onMessage = useCallback((message: { type: string }) => {\n    console.log('onMessage', message);\n    event.emit(message.type, message);\n  }, []);\n\n  const bindSocket = useCallback(() => {\n    socket.emit('gate', roomId);\n    socket.on('gate', onGateIn);\n    socket.on('join', onJoinUser);\n    socket.on('leave', onLeaveUser);\n    socket.on('message', onMessage);\n  }, [roomId, onGateIn, onJoinUser, onLeaveUser, onMessage]);\n\n  useEffect(() => {\n    if (!userInfo) {\n      return;\n    }\n\n    const { userId } = userInfo;\n    setupBaseInfo({ roomId, userId });\n  }, [roomId, userInfo]);\n\n  useEffect(() => {\n    bindSocket();\n  }, [bindSocket]);\n\n  return null;\n};\n\nexport default SocketContainer;\n","import { useCallback } from 'react';\nimport { Grid, GridItem, Button, Stack } from '@chakra-ui/react';\nimport { PaletteSlider, PaletteColor } from 'pages/Room/components';\nimport { COLORS } from 'constants/index';\nimport { DrawingTools } from 'types/enums';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Dispatch, select } from 'store';\nimport { drawing } from '../CanvasContainer';\n\nimport './index.scss';\n\nconst ToolsContainer = () => {\n  const { currentColor, currentTool, currentSize } = useSelector(select.tools.state);\n  const dispatch = useDispatch<Dispatch>();\n\n  const handleDrawingTool = useCallback(\n    (name: DrawingTools) => {\n      if (name === DrawingTools.CLEAR_ALL) {\n        drawing.clearAll();\n        dispatch.tools.setTool(DrawingTools.PEN);\n      } else {\n        dispatch.tools.setTool(name);\n      }\n    },\n    [dispatch]\n  );\n\n  const handleColor = useCallback(\n    (color: string) => {\n      dispatch.tools.setColor(color);\n    },\n    [dispatch]\n  );\n\n  const handleSlider = useCallback(\n    (val: number) => {\n      dispatch.tools.setSize(val);\n    },\n    [dispatch]\n  );\n\n  return (\n    <Grid h=\"100%\" p=\"10px\" templateRows=\"repeat(3, 1fr)\" templateColumns=\"repeat(1, 1fr)\">\n      <GridItem w=\"100%\" mb={3} rowSpan={1} colSpan={1} className=\"tool-type-wrap\">\n        <Stack direction=\"row\" spacing={2} align=\"center\">\n          {Object.keys(DrawingTools).map((name) => (\n            <Button\n              key={name}\n              className={name}\n              isActive={name === currentTool}\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleDrawingTool(name as DrawingTools)}\n            >\n              {name}\n            </Button>\n          ))}\n        </Stack>\n      </GridItem>\n      <GridItem rowSpan={1} colSpan={1} mb={1}>\n        <PaletteSlider value={currentSize} onSliderChange={handleSlider} />\n      </GridItem>\n      <GridItem rowSpan={1} colSpan={1}>\n        {COLORS.map((color) => (\n          <PaletteColor key={color} color={color} selected={color === currentColor} onClick={handleColor} />\n        ))}\n      </GridItem>\n    </Grid>\n  );\n};\n\nexport default ToolsContainer;\n","import { useSelector } from 'react-redux';\nimport { select } from 'store';\nimport { Flex, Box, Badge, Text } from '@chakra-ui/react';\nimport { ProfileAvatar } from 'pages/Room/components';\nimport cn from 'classnames';\nimport './index.scss';\n\nconst UserListContainer = () => {\n  const { participants } = useSelector(select.room.state);\n  const { painterId } = useSelector(select.game.state);\n  const { correctUserList } = useSelector(select.gamePoint.state);\n\n  return (\n    <ul className=\"user-list\">\n      {participants.map(({ userId, nickName, profileIndex, point = 0 }) => {\n        const currectUserInfo = correctUserList.find((user) => user.userId === userId);\n        const isPainter = painterId === userId;\n\n        return (\n          <li key={userId}>\n            <Flex\n              className={cn('profile-wrap', { painter: isPainter })}\n              bg=\"white\"\n              margin={2}\n              mb={4}\n              padding={2}\n              borderRadius={6}\n            >\n              <ProfileAvatar index={profileIndex} />\n              <Box ml=\"3\" width=\"100%\" overflow=\"hidden\">\n                <Text className=\"nickname\" fontWeight=\"bold\">\n                  {nickName}\n                </Text>\n                <Badge className=\"point\" borderRadius={4} colorScheme={currectUserInfo ? 'green' : 'gray'}>\n                  <span>{point}</span> 점\n                </Badge>\n              </Box>\n            </Flex>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default UserListContainer;\n","import { Container, Grid, GridItem } from '@chakra-ui/react';\nimport { createBreakpoints } from '@chakra-ui/theme-tools';\n\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { select } from 'store';\n\nimport PageTemplate from 'components/PageTemplate';\nimport {\n  SocketContainer,\n  GateContainer,\n  HeaderContainer,\n  GameContentContainer,\n  GameStatusContainer,\n  ChatContainer,\n  UserListContainer,\n  ToolsContainer,\n  DevLogContainer,\n} from './containers';\nimport { useMyTurn, useGameHandler, useGameSync, useGameStatus } from './hooks';\nimport { isNodeProdcution } from 'helpers/env';\nimport './index.scss';\n\nconst Room = () => {\n  const { roomId = '' } = useParams();\n  const { isJoined } = useSelector(select.room.state);\n  const { isWaiting } = useGameStatus();\n  const isMyTurn = useMyTurn();\n  useGameHandler();\n  useGameSync();\n\n  createBreakpoints({\n    sm: '480px',\n    md: '768px',\n    lg: '1024px',\n    xl: '1280px',\n  });\n\n  return (\n    <PageTemplate id=\"room\">\n      <SocketContainer roomId={roomId} />\n\n      {isJoined ? (\n        <Container p={0} maxW=\"100%\" className=\"joined\">\n          <Grid h=\"100vh\" templateRows=\"repeat(16, 1fr)\" templateColumns=\"repeat(15, 1fr)\" bg=\"gray.100\">\n            <GridItem rowSpan={{ base: 1 }} colSpan={{ base: 15 }} bg=\"purple.400\" className=\"head-section\">\n              <HeaderContainer />\n            </GridItem>\n\n            <GridItem rowSpan={{ base: 15 }} colSpan={{ base: 15 }} className=\"body-section\">\n              <Grid\n                w=\"100%\"\n                h=\"100%\"\n                gap={2}\n                padding={2}\n                templateRows=\"repeat(10, 1fr)\"\n                gridAutoFlow=\"column\"\n                justifyContent=\"center\"\n              >\n                <GridItem rowSpan={{ base: 10 }} colSpan={{ base: 2 }} borderRadius={6} bg=\"gray.300\" w=\"230px\">\n                  <UserListContainer />\n                  {!isNodeProdcution && <DevLogContainer />}\n                </GridItem>\n\n                <GridItem rowSpan={{ base: 10 }} colSpan={{ base: 10 }} borderRadius={6} bg=\"white\">\n                  <GameContentContainer />\n                </GridItem>\n\n                <GridItem rowSpan={{ base: 10 }} colSpan={{ base: 3 }} w=\"280px\">\n                  <Grid h=\"100%\" templateRows=\"repeat(10, 1fr)\" templateColumns=\"repeat(3, 1fr)\" gap={2}>\n                    <GridItem rowSpan={2} colSpan={3} bg=\"gray.100\" minHeight={150}>\n                      {isMyTurn || isWaiting ? <ToolsContainer /> : <GameStatusContainer />}\n                    </GridItem>\n                    <GridItem rowSpan={8} colSpan={3} borderRadius={6} bg=\"gray.300\">\n                      <ChatContainer />\n                    </GridItem>\n                  </Grid>\n                </GridItem>\n              </Grid>\n            </GridItem>\n          </Grid>\n        </Container>\n      ) : (\n        <GateContainer roomId={roomId} />\n      )}\n    </PageTemplate>\n  );\n};\n\nexport default Room;\n","const PATHS = {\n  HOME: '/',\n  ROOM: '/room/:roomId',\n};\n\nexport default PATHS;\n","import { Routes, Route } from 'react-router-dom';\nimport Home from 'pages/Home';\nimport Room from 'pages/Room';\nimport PATHS from './paths';\n\nconst AppRoutes = () => {\n  return (\n    <Routes>\n      <Route path={PATHS.HOME} element={<Home />} />\n      <Route path={PATHS.ROOM} element={<Room />} />\n    </Routes>\n  );\n};\n\nexport default AppRoutes;\n","import { Provider } from 'react-redux';\nimport { ChakraProvider } from '@chakra-ui/react';\nimport { store } from './store';\nimport AppRoutes from 'routes';\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ChakraProvider>\n        <AppRoutes />\n      </ChakraProvider>\n    </Provider>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}