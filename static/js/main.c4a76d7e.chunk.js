(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{134:function(e){e.exports=JSON.parse('{"a":"https://maybe-picasso.github.io/picasso"}')},187:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var c,i,r,s,o=n(57),a=n.n(o),l=n(66),u=n(18),d=n(29),j=n(37),b=Object(j.a)()({state:{isLoading:!1},selectors:function(e){return{state:function(){return e}}},reducers:{showLoading:function(e){e.isLoading=!0},hideLoading:function(e){e.isLoading=!1}}}),h=Object(j.a)()({state:{isConnectedSocket:!1,isJoined:!1,userInfo:null,participants:[]},selectors:function(e){return{state:function(){return e}}},reducers:{setSocketState:function(e,t){return e.isConnectedSocket=t,e},setJoinedState:function(e,t){return e.isJoined=t,e},setUserInfo:function(e,t){return e.userInfo=t,e},updateParticipants:function(e,t){return e.participants=t,e},updateUserPoint:function(e,t){var n=t.userId,c=t.roundPoint,i=e.participants.map((function(e){var t;e.userId===n&&(e.point=null!==(t=e.point)&&void 0!==t?t:0+c);return e}));return e.participants=i,e}}}),f=n(88);!function(e){e.CHAT="CHAT",e.DRAWING="DRAWING",e.CORRECT_USER="CORRECT_USER",e.SYNC_GAME_STATUS="SYNC_GAME_STATUS"}(c||(c={})),function(e){e.PEN="PEN",e.ERASER="ERASER",e.CLEAR_ALL="CLEAR_ALL"}(i||(i={})),function(e){e.START="START",e.DRAW="DRAW",e.END="END",e.CLEAR_ALL="CLEAR_ALL",e.UNDO="UNDO",e.REDO="REDO"}(r||(r={})),function(e){e.WAITING="WAITING",e.STANDBY_TURN="STANDBY_TURN",e.PLAYING="PLAYING",e.COMPLETED="COMPLETED",e.GAMEOVER="GAMEOVER"}(s||(s={}));var m,O,p=n(225),g=(n(224),n(131),function(e){return Math.floor(Math.random()*e)}),x=n(145),v=n(134),y="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/picasso",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,S=(v.a,Object(x.a)("wss://maybe-picasso.herokuapp.com",{transports:["websocket"]})),w=function(e){var t=e.type,n=e.body,c=e.to,i={roomId:m,senderId:O,to:void 0===c?"all":c,type:t,body:n};S.send(i)},C=S,k={status:s.WAITING,painterId:null,questions:[],round:1,time:60},E=Object(j.a)()({state:k,selectors:function(e){return{state:function(){return e},isVisibleOverlayContent:function(){return e((function(e){var t=e.status;return t===s.STANDBY_TURN||t===s.COMPLETED||t===s.GAMEOVER}))},currentQuestion:function(){return e((function(e){return e.questions[e.round-1]}))}}},reducers:{setQuestions:function(e,t){return e.questions=t,e},setPainterId:function(e,t){return e.painterId=t,e},setRound:function(e,t){return e.round=t,e},setTime:function(e,t){return e.time=t,e},setStatus:function(e,t){return e.status=t,e}},effects:function(e){return{init:function(t,n){var c=t.questions,i=n.room.participants;e.game.standBy(),e.game.setQuestions(c),e.game.setRound(k.round),e.game.setTime(k.time),e.game.setPainterId(i[0].userId)},wait:function(){e.game.setStatus(s.WAITING)},standBy:function(){e.game.setStatus(s.STANDBY_TURN),f.a((function(){e.game.play()}),5e3)},play:function(){e.game.setStatus(s.PLAYING)},complete:function(){e.game.setStatus(s.COMPLETED),f.a((function(){e.game.nextQuestion({})}),5e3)},finish:function(){e.game.setStatus(s.GAMEOVER)},nextQuestion:function(t,n){var c,i,r=n.game,s=n.room.participants,o=r.round+1,a=o-1,l=null!==(c=null===(i=s[a])||void 0===i?void 0:i.userId)&&void 0!==c?c:s[(a-s.length)%s.length].userId;o>r.questions.length?e.game.finish():(e.game.standBy(),e.game.setRound(o),e.game.setTime(k.time),e.game.setPainterId(l),e.gamePoint.resetCorrectUserInfo())},checkUserAnswer:function(t,n){var i=t.userId,r=t.text,s=n.game,o=n.gamePoint,a=s.questions,l=s.round,u=s.time,d=s.painterId,j=o.correctUserList,b=a[l-1],h=b===r,f=j.find((function(e){return e.userId===i}));d===i||f||h&&u&&(e.gamePoint.correctUser({userId:i}),w({type:c.CORRECT_USER,body:{userId:i}}))}}}}),N={1:2,2:1.5,3:1.2,99:1},I=Object(j.a)()({state:{correctUserList:[]},selectors:function(e){return{state:function(){return e}}},reducers:{addCorrectUserInfo:function(e,t){return e.correctUserList.push(t),e},resetCorrectUserInfo:function(e){return e.correctUserList=[],e}},effects:function(e){return{correctUser:function(t,n){var c=t.userId,i=n.room,r=n.game,s=n.gamePoint.correctUserList,o=i.participants,a=r.time,l=s.length+1,u=a*N[l<4?l:99]+10*o.length;e.gamePoint.addCorrectUserInfo({userId:c,point:u,time:a}),e.room.updateUserPoint({userId:c,roundPoint:u})}}}}),A=Object(j.a)()({state:{chatList:[]},selectors:function(e){return{state:function(){return e}}},reducers:{addChat:function(e,t){return e.chatList.push(t),e}}}),R=n(17),T=[{name:"\uc591\uc790\ub9ac"},{name:"\ud669\uc18c\uc790\ub9ac"},{name:"\uc30d\ub465\uc774\uc790\ub9ac"},{name:"\uac8c\uc790\ub9ac"},{name:"\uc0ac\uc790\uc790\ub9ac"},{name:"\ucc98\ub140\uc790\ub9ac"},{name:"\ucc9c\uce6d\uc790\ub9ac"},{name:"\uc804\uac08\uc790\ub9ac"},{name:"\ubc40\uc8fc\uc778\uc790\ub9ac"},{name:"\uad81\uc218\uc790\ub9ac"},{name:"\uc5fc\uc18c\uc790\ub9ac"},{name:"\ubb3c\uace0\uae30\uc790\ub9ac"}],D=["#000000","#aaaaaa","#dddddd","#ffffff","#0074d9","#7fdbff","#39cccc","#3d9970","#2ecc40","#01ff70","#ffdc00","#ff851b","#f00000","#85144b","#f012be","#b10dc9","#F05E5F","#5A4B50","#8BBEB4","#F0B85E"],P=["\ud83d\udc36","\ud83d\udc31","\ud83e\udd81","\ud83d\udc30","\ud83e\udd8a","\ud83d\udc28","\ud83d\udc3c","\ud83d\udc2f","\ud83d\udc25","\ud83d\udc37","\ud83d\udc2e","\ud83d\udc39","\ud83d\udc3b\u200d\u2744\ufe0f","\ud83d\udc38","\ud83d\udc32","\ud83d\udc33","\ud83d\udc19","\ud83d\udc14","\ud83e\udd84","\ud83d\udc3a","\ud83e\udda5","\ud83e\udda6","\ud83e\uddad","\ud83e\udd96","\ud83d\udc22","\ud83e\udd8b","\ud83d\udc1b","\ud83d\udc1d","\ud83d\udd77\ufe0f","\ud83d\udc0c"],L=["\ud584\ubc84\uac70","\uc2a4\ud0c0\ubc85\uc2a4","\ub179\ucc28","\ud48d\uc120\uaecc","\uc218\uc601\ubcf5","\ub178\ub798\ubc29","\ud560\uba38\ub2c8","\uac10\uae30\uc57d","\uc544\uc774\ud3f0","\ud06c\ub9ac\uc2a4\ub9c8\uc2a4"],z="nickName",H="drawingTools";function M(e,t){t=JSON.stringify(t),localStorage[e]=t}function U(e){var t=localStorage[e];if(!t)return console.info("localStorage\uc5d0 ".concat(e,"\ub294 \uc5c6\uc2b5\ub2c8\ub2e4.")),null;try{t=JSON.parse(t)}catch(n){console.error("getStorage catch(error)",n)}return t}var W,_=U(H)||{},G=_.tool,B=_.color,Y=_.size,K={currentTool:G||i.PEN,currentColor:B||D[0],currentSize:Y||3},J={common:b,room:h,game:E,gamePoint:I,chat:A,tools:Object(j.a)()({state:K,selectors:function(e){return{state:function(){return e}}},reducers:{setTool:function(e,t){var n=e.currentColor,c=e.currentSize;return M(H,{tool:t,color:n,size:c}),Object(R.a)(Object(R.a)({},e),{},{currentTool:t})},setColor:function(e,t){var n=e.currentTool,c=e.currentSize;return M(H,{tool:n,color:t,size:c}),Object(R.a)(Object(R.a)({},e),{},{currentColor:t})},setSize:function(e,t){var n=e.currentTool,c=e.currentColor;return M(H,{tool:n,color:c,size:t}),Object(R.a)(Object(R.a)({},e),{},{currentSize:t})}}})},Q=n(147),V=n(146),F=Object(j.b)({models:J,plugins:[Object(Q.a)(),Object(V.a)()]}),q=F.select,X=n(20),Z=n(19),$=n(1),ee=n(123),te=n(126),ne=n(75),ce={HOME:"/",ROOM:"/room/:roomId",ABOUT:"/about"},ie=(n(187),n(3)),re=function(){var e=Object($.useState)(0),t=Object(Z.a)(e,2),n=t[0],c=t[1],i=Object(X.f)();return Object(ie.jsxs)("div",{className:"home-wrap",children:[Object(ie.jsxs)(ee.d,{className:"room-list-wrap",children:[Object(ie.jsxs)(ee.i,{as:"h1",size:"2xl",mb:"5",color:"#fff",children:["Picasso \ud83c\udfa8",Object(ie.jsx)(ee.a,{className:"badge",variant:"solid",colorScheme:"purple",children:"Alpha"})]}),Object(ie.jsx)("ul",{children:T.map((function(e,t){var i=e.name,r=n===t,s="".concat(r?"active":"");return Object(ie.jsx)("li",{children:Object(ie.jsxs)("button",{type:"button",className:s,onClick:function(){return function(e){c(e)}(t)},children:[Object(ie.jsx)("span",{className:"name",children:i}),r&&Object(ie.jsx)("span",{className:"icon",children:"\ud83d\udd2e"})]})})}))}),Object(ie.jsxs)(ee.k,{spacing:5,children:[Object(ie.jsx)(ee.e,{}),Object(ie.jsx)(te.a,{type:"submit",colorScheme:"teal",size:"lg",variant:"solid",rightIcon:Object(ie.jsx)(ne.c,{}),onClick:function(){i("/room/".concat(T[n].name))},children:"\uc2dc\uc791\ud558\uae30"})]})]}),Object(ie.jsx)("footer",{children:Object(ie.jsx)(l.b,{to:ce.ABOUT,children:"About us"})})]})},se=n(9),oe=(n(190),function(e){var t=e.children,n=e.id;return Object(ie.jsx)("div",{className:"page-template",id:n,children:t})}),ae=n(44),le=n.n(ae),ue=n(136),de=new(n.n(ue).a),je=function(){var e=Object(u.c)(q.room.state).participants,t=Object(u.c)(q.game.state).time,n=Object(u.c)(q.gamePoint.state).correctUserList,i=be(),r=i.isWaiting,s=i.isPlaying,o=Object(u.b)(),a=e.length,l=n.length>0&&n.length===e.length-1;Object($.useEffect)((function(){a>=2&&r?o.game.init({questions:L}):a<=1&&!r&&o.game.wait()}),[r,a,o]),Object($.useEffect)((function(){s&&f.a((function(){0===t?o.game.complete():o.game.setTime(t-1)}),1e3)}),[s,t,o]),Object($.useEffect)((function(){l&&o.game.complete()}),[l,o]),Object($.useEffect)((function(){s&&W&&W.clearAll()}),[s]),Object($.useEffect)((function(){de.removeAllListeners(c.CORRECT_USER),de.on(c.CORRECT_USER,(function(e){var t=e.body.userId;o.gamePoint.correctUser({userId:t})}))}),[o])},be=function(){var e=Object(u.c)(q.game.state).status;return{isWaiting:e===s.WAITING,isStandByTurn:e===s.STANDBY_TURN,isPlaying:e===s.PLAYING,isComplete:e===s.COMPLETED,isGameOver:e===s.GAMEOVER}},he=function(){var e=Object(u.c)(q.game.state),t=e.time,n=e.painterId,i=e.status,r=e.round,s=be().isWaiting,o=Object(u.b)(),a=fe();Object($.useEffect)((function(){de.removeAllListeners("join"),de.on("join",(function(e){console.log("[\ub514\ubc84\uae45] join :>> ",e),!s&&a&&w({type:c.SYNC_GAME_STATUS,to:e.userInfo.userId,body:{painterId:n,status:i,round:r,time:t}})}))}),[s,a,n,r,t,i]),Object($.useEffect)((function(){de.removeAllListeners(c.SYNC_GAME_STATUS),de.on(c.SYNC_GAME_STATUS,(function(e){var t=e.body;console.log("[\ub514\ubc84\uae45] SYNC_GAME_STATUS :>> ",t);var n=t.status,c=t.painterId,i=t.round,r=t.time;o.game.setPainterId(c),o.game.setTime(r),o.game.setRound(i),o.game.setStatus(n)}))}),[o])},fe=function(){var e=Object(u.c)(q.room.state).userInfo,t=Object(u.c)(q.game.state).painterId;return(null===e||void 0===e?void 0:e.userId)===t},me=function(){var e=Object(u.c)(q.room.state).participants,t=Object(u.c)(q.game.state).painterId;return e.find((function(e){return e.userId===t}))},Oe=n(4),pe=n(5),ge=i.PEN,xe="round",ve=function(){function e(t){var n=t.canvas,c=t.context,i=t.config;Object(Oe.a)(this,e),this.context=void 0,this.canvas=void 0,this.config=void 0,this.startPoint={x:0,y:0},this.currentPoint={x:0,y:0},this.canvas=n,this.context=c,this.config=null!==i&&void 0!==i?i:{size:3,color:"black",mode:ge}}return Object(pe.a)(e,[{key:"getPoint",value:function(e){return{x:e.offsetX,y:e.offsetY}}},{key:"start",value:function(){this.context?this.context.beginPath():console.error("\ucee8\ud14d\uc2a4\ud2b8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}},{key:"draw",value:function(e){var t=e.context,n=e.config,c=e.startPoint,r=e.currentPoint,s=n.mode,o=n.size,a=n.color;s===i.PEN?(t.globalCompositeOperation="source-over",t.strokeStyle=a,t.lineWidth=o):s===i.ERASER&&(t.globalCompositeOperation="destination-out",t.lineWidth=4*o),t.lineJoin=xe,t.lineCap=xe,t.moveTo(c.x,c.y),t.lineTo(r.x,r.y),t.stroke()}},{key:"end",value:function(){this.context?this.context.closePath():console.error("\ucee8\ud14d\uc2a4\ud2b8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}},{key:"clear",value:function(){var e=this.context.canvas,t=e.width,n=e.height;this.context.clearRect(0,0,t,n)}},{key:"setConfig",value:function(e){var t=Object(R.a)(Object(R.a)({},this.config),e);this.config=t}},{key:"getConfig",value:function(){return this.config}},{key:"getCanvasSize",value:function(){var e=this.canvas,t=e.width,n=e.height,c=e.scrollWidth,i=e.scrollHeight;return{width:t,height:n,scrollWidth:c,scrollHeight:i,scaleX:t/c,scaleY:n/i}}}]),e}(),ye=n(6),Se=n(7),we=function(e){Object(ye.a)(n,e);var t=Object(Se.a)(n);function n(e){var c;return Object(Oe.a)(this,n),(c=t.call(this,e)).enabled=!1,c.isDragging=!1,c.drawCommandQueue=[],c.currentDrawCommand=[],c.redoDrawingStack=[],c.canvasSize=null,c.scaleX=1,c.scaleY=1,c.mouseDownHandler=null,c.mouseMoveHandler=null,c.mouseUpHandler=null,c.keyDownHandler=null,c.init(),c}return Object(pe.a)(n,[{key:"init",value:function(){this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.keyDownHandler=this.onKeyDown.bind(this),this.bindSocketEventHandler()}},{key:"onMouseDown",value:function(e){console.log("onMouseDown :>> ",e),this.isDragging=!0,this.canvasSize=this.getCanvasSize(),this.startPoint=this.getPoint(e),this.start(),this.currentDrawCommand=[],this.redoDrawingStack=[];var t=this.getConfig(),n=t.size,i=t.color,s=t.mode;w({type:c.DRAWING,body:{drawingStatus:r.START,drawingMode:s,lineWidth:n,color:i,canvasSize:this.canvasSize,point:this.startPoint}})}},{key:"onMouseMove",value:function(e){if(this.isDragging){this.currentPoint=this.getPoint(e);var t=this.canvasSize,n=t.scaleX,i=t.scaleY,s={x:this.startPoint.x*n,y:this.startPoint.y*i},o={x:this.currentPoint.x*n,y:this.currentPoint.y*i},a={context:this.context,config:this.config,startPoint:s,currentPoint:o};this.draw(a),this.startPoint=this.currentPoint,this.currentDrawCommand.push(a),w({type:c.DRAWING,body:{drawingStatus:r.DRAW,point:this.currentPoint}})}}},{key:"undo",value:function(){var e=this.drawCommandQueue.pop();0===(null===e||void 0===e?void 0:e.length)&&this.drawCommandQueue.length>0?this.undo():e&&this.redoDrawingStack.push(e),this.restoreDraw(),w({type:c.DRAWING,body:{drawingStatus:r.REDO}})}},{key:"redo",value:function(){var e=this.redoDrawingStack.pop();0===(null===e||void 0===e?void 0:e.length)&&this.redoDrawingStack.length>0?this.redo():e&&this.drawCommandQueue.push(e),this.restoreDraw(),w({type:c.DRAWING,body:{drawingStatus:r.REDO}})}},{key:"restoreDraw",value:function(){var e=this;this.clear(),this.drawCommandQueue.forEach((function(t){e.context.beginPath(),t.forEach((function(t){e.draw(t)})),e.context.closePath()}))}},{key:"onMouseUp",value:function(e){console.log("onMouseUp :>> ",e),this.isDragging=!1,this.end(),this.drawCommandQueue.push(this.currentDrawCommand),this.currentDrawCommand=[],w({type:c.DRAWING,body:{drawingStatus:r.END}})}},{key:"onKeyDown",value:function(e){"z"===e.key&&e.metaKey&&(e.preventDefault(),e.shiftKey?this.redo():this.undo())}},{key:"clearAll",value:function(){this.clear(),w({type:c.DRAWING,body:{drawingStatus:r.CLEAR_ALL}})}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.bindMouseEventHandler(),this.bindKeyboardEventHandler())}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.unbindMouseEventHandler(),this.unbindKeyboardEventHandler())}},{key:"dispose",value:function(){this.unbindMouseEventHandler(),this.unbindKeyboardEventHandler(),this.mouseDownHandler=null,this.mouseMoveHandler=null,this.mouseUpHandler=null,this.keyDownHandler=null}},{key:"bindMouseEventHandler",value:function(){this.mouseDownHandler&&this.mouseMoveHandler&&this.mouseUpHandler&&(this.canvas.addEventListener("mousedown",this.mouseDownHandler),this.canvas.addEventListener("mousemove",this.mouseMoveHandler),this.canvas.addEventListener("mouseup",this.mouseUpHandler))}},{key:"bindKeyboardEventHandler",value:function(){this.keyDownHandler&&window.addEventListener("keydown",this.keyDownHandler)}},{key:"unbindMouseEventHandler",value:function(){this.mouseDownHandler&&this.mouseMoveHandler&&this.mouseUpHandler&&(this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler))}},{key:"unbindKeyboardEventHandler",value:function(){this.keyDownHandler&&window.removeEventListener("keydown",this.keyDownHandler)}},{key:"bindSocketEventHandler",value:function(){var e=this;de.on(c.DRAWING,(function(t){var n=t.body,c=n.drawingStatus,i=n.drawingMode,s=n.lineWidth,o=n.color,a=n.point,l=n.canvasSize;switch(l&&(e.canvasSize=e.getCanvasSize(),e.scaleX=e.canvasSize.width/l.scrollWidth,e.scaleY=e.canvasSize.height/l.scrollHeight),c){case r.START:e.setConfig({mode:i,size:s,color:o}),e.startPoint={x:a.x*e.scaleX,y:a.y*e.scaleY},e.start();break;case r.DRAW:e.currentPoint={x:a.x*e.scaleX,y:a.y*e.scaleY},e.draw({context:e.context,config:e.config,startPoint:e.startPoint,currentPoint:e.currentPoint}),e.startPoint=e.currentPoint;break;case r.END:e.end();break;case r.CLEAR_ALL:e.clear();break;case r.UNDO:e.undo();break;case r.REDO:e.redo()}}))}}]),n}(ve),Ce=(n(191),function(){var e=Object($.useRef)(null),t=Object($.useState)({width:0,height:0}),n=Object(Z.a)(t,2),c=n[0],r=n[1],s=Object(u.c)(q.tools.state),o=s.currentColor,a=s.currentTool,l=s.currentSize,d=be().isWaiting,j=fe()||d;Object($.useEffect)((function(){if(e.current){var t=e.current,n=t.getContext("2d");n?(r({width:t.clientWidth,height:t.clientHeight}),W||(W=new we({canvas:t,context:n})),W.enable()):console.error("\ucee8\ud14d\uc2a4\ud2b8\ub97c \uac00\uc838\uc624\ub294\ub370\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}}),[]),Object($.useEffect)((function(){j?W.enable():W.disable()}),[j]),Object($.useEffect)((function(){W.setConfig({color:o})}),[o,j]),Object($.useEffect)((function(){W.setConfig({size:l})}),[l,j]),Object($.useEffect)((function(){W.setConfig({mode:a})}),[a,j]);var b=a===i.ERASER;return Object(ie.jsx)("canvas",{id:"drawingCanvas",className:le()({pen:j,eraser:b}),ref:e,width:c.width,height:c.height})}),ke=n(127),Ee=n(83),Ne=(n(192),function(){var e=Object(u.c)(q.room.state),t=e.userInfo,n=e.participants,i=Object(u.c)(q.chat.state).chatList,r=Object(u.b)(),s=Object($.useRef)(null),o=Object($.useRef)(null),a=Object($.useState)(!1),l=Object(Z.a)(a,2),d=l[0],j=l[1],b=Object($.useState)(!1),h=Object(Z.a)(b,2),f=h[0],m=h[1],O=Object($.useCallback)((function(){var e=s.current;e&&(e.scrollTop=e.scrollHeight)}),[s]),p=function(){if(s.current){var e=s.current,t=e.scrollHeight,n=e.scrollTop,c=e.clientHeight,i=t!==Math.ceil(n+c);j(i)}},g=Object($.useCallback)((function(){var e,n=null===(e=o.current)||void 0===e?void 0:e.value,i=(new Date).getTime();if(o.current&&n&&t){var s={message:n,timestamp:i};w({type:c.CHAT,body:s});var a=t.userId,l=t.nickName;r.chat.addChat(Object(R.a)(Object(R.a)({},s),{},{isMine:!0,userId:a,nickName:l})),r.game.checkUserAnswer({userId:a,text:n.trim()}),o.current.value="",m(!0),setTimeout((function(){O(),m(!1)}),0)}}),[r,t,O]),x=Object($.useCallback)((function(e){e.shiftKey||"Enter"===e.key&&(e.preventDefault(),g())}),[g]),v=Object($.useCallback)((function(e){e.shiftKey||"Enter"===e.key&&e.preventDefault()}),[]),y=Object($.useCallback)((function(e){return n.find((function(t){return t.userId===e}))}),[n]),S=Object($.useCallback)((function(e){var t,n,c=e.senderId,i=e.body,s=i.timestamp,o=i.message,a=null!==(t=null===(n=y(c))||void 0===n?void 0:n.nickName)&&void 0!==t?t:null;a&&(r.chat.addChat({userId:c,nickName:a,timestamp:s,message:o}),setTimeout((function(){return O()}),0))}),[r,y,O]);return Object($.useEffect)((function(){return window.addEventListener("resize",p),function(){return window.removeEventListener("resize",p)}}),[]),Object($.useEffect)((function(){de.removeAllListeners(c.CHAT),de.on(c.CHAT,S)}),[S]),Object(ie.jsxs)(ee.g,{h:"100%",templateRows:"repeat(10, 1fr)",borderRadius:6,overflow:"hidden",children:[Object(ie.jsxs)(ee.h,{rowSpan:9,className:"chat-list-wrap",children:[Object(ie.jsx)("ul",{ref:s,onScroll:p,className:le()({"hide-scrollbar":f}),children:i.map((function(e,t){var n=e.isMine,c=e.nickName,i=e.message;return Object(ie.jsxs)("li",{className:le()({mine:n}),children:[Object(ie.jsx)("p",{className:"nickname",children:c}),Object(ie.jsx)("p",{className:"body",children:i})]},t)}))}),d&&Object(ie.jsx)(te.b,{"aria-label":"\ucd5c\uc2e0 \ub300\ud654\ubcf4\uae30",size:"md",borderRadius:100,colorScheme:"teal",boxShadow:"xl",icon:Object(ie.jsx)(Ee.a,{}),onClick:O})]}),Object(ie.jsx)(ee.h,{rowSpan:1,children:Object(ie.jsx)(ee.f,{h:"100%",alignItems:"center",p:"10px",children:Object(ie.jsxs)(ke.b,{size:"lg",children:[Object(ie.jsx)(ke.a,{fontSize:"16px",bg:"#fff",pr:"4.5rem",type:"text",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!",ref:o,onKeyDown:v,onKeyUp:x}),Object(ie.jsx)(ke.c,{width:"4rem",mr:"4px",justifyContent:"flex-end",children:Object(ie.jsx)(te.b,{"aria-label":"\uc804\uc1a1",size:"md",bg:"gray.300",icon:Object(ie.jsx)(Ee.b,{}),onClick:g})})]})})})]})}),Ie=(n(193),function(e){var t=e.word,n=e.isBlind;return t?Object(ie.jsx)(ee.b,{bg:"green.400",minWidth:"100px",textAlign:"center",fontWeight:600,p:2,color:"white",borderRadius:"6",children:n?Array.from({length:t.length}).fill(" O "):t}):null}),Ae=(n(194),function(e){var t=e.round,n=e.totalRound,c=e.isWaiting;return Object(ie.jsxs)(ee.b,{className:"game-round",textAlign:"right",children:[Object(ie.jsx)(ee.l,{fontSize:"xs",color:"blackAlpha.600",children:"\ub77c\uc6b4\ub4dc"}),Object(ie.jsx)(ee.l,{color:"blackAlpha.600",children:c?Object(ie.jsx)(ee.l,{as:"strong",color:"blackAlpha.900",children:"\ub300\uae30\uc911"}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ee.l,{as:"strong",color:"blackAlpha.900",children:t})," ","/ ",n]})})]})}),Re=n(137),Te=n.p+"static/media/tick-tock.f2342ab4.mp3",De=(n(195),function(e){var t=e.timeCount,n=void 0===t?60:t,c=e.isWaiting,i=n<10,r=0===n,s=Object(Re.a)(Te,{playbackRate:2,interrupt:!0}),o=Object(Z.a)(s,2),a=o[0],l=o[1].stop;return Object($.useEffect)((function(){return i&&!r?a({forceSoundEnabled:!0}):l(),function(){l()}}),[i,r,a,l]),Object(ie.jsxs)(ee.b,{className:"game-timer",children:[Object(ie.jsx)(ee.l,{className:"timer-emoji",children:"\u23f0"}),r?Object(ie.jsx)(ee.l,{fontSize:"sm",color:"gray.500",children:"\uc2dc\uac04\ucd08\uacfc!"}):Object(ie.jsx)(ee.l,{fontSize:"xl",fontWeight:600,color:i?"red.500":"blackAlpha.900",children:c?"\u221e":n})]})}),Pe=(n(196),function(e){var t=e.color,n=e.selected,c=e.onClick,i="#ffffff"===t;return Object(ie.jsx)(ee.b,{className:le()("palette-card",{selected:n}),backgroundColor:t,onClick:function(){return null===c||void 0===c?void 0:c(t)},children:n&&Object(ie.jsx)("span",{className:"icon-checked",children:Object(ie.jsx)(Ee.c,{color:i?"#000":"#fff",w:3,h:3})})})}),Le=n(128),ze=function(e){var t=e.value,n=void 0===t?3:t,c=e.onSliderChange;return Object(ie.jsxs)(Le.a,{"aria-label":"slider-ex-1",defaultValue:n,min:1,max:20,colorScheme:"teal",onChange:function(e){return c(e)},children:[Object(ie.jsx)(Le.d,{children:Object(ie.jsx)(Le.b,{})}),Object(ie.jsx)(Le.c,{})]})},He=(n(197),function(e){var t=e.index,n=void 0===t?0:t,c=e.size,i=void 0===c?40:c;return Object(ie.jsx)("div",{className:"profile-avatar",style:{width:"".concat(i,"px"),fontSize:"".concat(i,"px")},children:P[n]})}),Me=n(223),Ue=(n(198),{initial:{opacity:0,y:30,scale:.85},visible:{opacity:1,y:0,scale:1}}),We=function(e){var t=e.children,n=e.title;return Object(ie.jsxs)(Me.a.div,{initial:"initial",animate:"visible",variants:Ue,transition:{duration:.3},children:[Object(ie.jsx)(ee.i,{mb:5,color:"white",textAlign:"center",children:n}),t&&Object(ie.jsx)(ee.b,{bgColor:"white",width:370,minHeight:200,borderRadius:6,padding:6,marginX:"auto",children:t})]})},_e=(n(199),function(e){var t=e.isMyTurn,n=e.word,c=e.painterName,i=Object(ie.jsxs)(ee.l,{as:"p",lineHeight:1.5,children:[c,"\ub2d8 \ucc28\ub840\uc5d0\uc694!",Object(ie.jsx)("br",{}),"\uc774\ubc88 \ubb38\uc81c\ub294",Object(ie.jsx)(ee.l,{m:2,color:"green.300",as:"span",textDecoration:"underline",children:n}),"\uc785\ub2c8\ub2e4!"]}),r=Object(ie.jsxs)(ee.l,{as:"p",lineHeight:1.5,children:[Object(ie.jsx)(ee.l,{m:2,color:"green.300",as:"span",textDecoration:"underline",children:c}),"\ub2d8\uc774 \uadf8\ub9bc \uadf8\ub9b4 \ucc28\ub840\uc785\ub2c8\ub2e4!"]});return Object(ie.jsx)(We,{title:t?i:r})}),Ge=(n(200),function(e){var t=e.userList,n=e.word,c=Object(u.c)(q.gamePoint.state).correctUserList;return Object(ie.jsx)(We,{title:Object(ie.jsxs)(ie.Fragment,{children:["\uc815\ub2f5\uc740",Object(ie.jsx)(ee.l,{m:2,color:"green.300",as:"span",textDecoration:"underline",children:n}),"\uc785\ub2c8\ub2e4!"]}),children:Object(ie.jsx)("ul",{className:"result-score",children:t.map((function(e){var t,n=e.nickName,i=e.userId,r=e.profileIndex,s=c.find((function(e){return e.userId===i}));return Object(ie.jsxs)("li",{children:[Object(ie.jsxs)("div",{className:"rank-name",children:[Object(ie.jsx)(He,{size:20,index:r}),Object(ie.jsxs)(ee.l,{m:2,color:s?"green.400":"black",as:"strong",children:[n," ",s&&"\ud83c\udf89"]})]}),Object(ie.jsxs)(ee.a,{className:"rank-score",colorScheme:s?"green":"gray",children:[Object(ie.jsx)("span",{children:null!==(t=null===s||void 0===s?void 0:s.point)&&void 0!==t?t:0})," \uc810"]})]},i)}))})})}),Be=n(138),Ye=(n(201),function(e){var t=e.userList,n=Object(u.c)(q.gamePoint.state).correctUserList;return Object($.useEffect)((function(){Object(Be.a)({particleCount:100,spread:150,zIndex:1e3})}),[]),Object(ie.jsx)(We,{title:"\ud83c\udf89 \uc21c\uc704\ub97c \ubc1c\ud45c\ud569\ub2c8\ub2e4!",children:Object(ie.jsx)("ul",{className:"result-score",children:t.map((function(e,t){var c,i=e.nickName,r=e.userId,s=e.profileIndex,o=n.find((function(e){return e.userId===r})),a=0===t,l=1===t,u=2===t;return Object(ie.jsxs)("li",{className:le()({winner:a}),children:[Object(ie.jsxs)("div",{className:"rank-name",children:[Object(ie.jsxs)("span",{className:"medal",children:[a&&"\ud83c\udfc5"," ",l&&"\ud83e\udd48"," ",u&&"\ud83e\udd49"]}),Object(ie.jsxs)("div",{className:"avatar-wrap",children:[Object(ie.jsx)(He,{size:25,index:s}),a&&Object(ie.jsx)("span",{className:"crown",children:"\ud83d\udc51"})]}),Object(ie.jsxs)(ee.l,{m:2,color:"black",as:"strong",children:[i," ",a&&"\ud83c\udf89"]})]}),Object(ie.jsxs)(ee.a,{className:"rank-score",colorScheme:"gray",children:[Object(ie.jsx)("span",{children:null!==(c=null===o||void 0===o?void 0:o.point)&&void 0!==c?c:0})," \uc810"]})]},r)}))})})}),Ke=(n(202),function(){var e,t,n=Object(u.c)(q.room.state),c=n.participants,i=n.userInfo,r=Object(u.c)(q.game.state),s=r.time,o=r.questions,a=r.round,l=Object(u.c)(q.gamePoint.state).correctUserList,d=Object(u.c)(q.game.isVisibleOverlayContent),j=l.find((function(e){return e.userId===(null===i||void 0===i?void 0:i.userId)})),b=be(),h=b.isWaiting,f=b.isStandByTurn,m=b.isComplete,O=b.isGameOver,p=null!==(e=null===(t=me())||void 0===t?void 0:t.nickName)&&void 0!==e?e:"",g=fe(),x=h?"\ud55c\uba85 \ub354 \ub4e4\uc5b4\uc624\uba74 \uc2dc\uc791 \ud560 \uc218 \uc788\uc5b4\uc694!":o[a-1],v=!h&&!g&&!j;return Object(ie.jsxs)("div",{className:"game-content-container",children:[Object(ie.jsxs)(ee.f,{className:"header",justifyContent:"space-between",children:[Object(ie.jsx)(De,{timeCount:s,isWaiting:h}),Object(ie.jsx)(Ie,{word:x,isBlind:v}),Object(ie.jsx)(Ae,{round:a,totalRound:o.length,isWaiting:h})]}),Object(ie.jsxs)(ee.f,{className:"body",justifyContent:"center",alignItems:"center",children:[Object(ie.jsx)(Ce,{}),d&&Object(ie.jsxs)(ee.f,{className:"overlay-wrap",justifyContent:"center",alignItems:"center",children:[f&&Object(ie.jsx)(_e,{isMyTurn:g,word:x,painterName:p}),m&&Object(ie.jsx)(Ge,{userList:c,word:x}),O&&Object(ie.jsx)(Ye,{userList:c})]})]})]})}),Je=function(){var e=me();return Object(ie.jsx)(ee.c,{height:"100%",p:3,bg:"gray.500",color:"white",borderRadius:6,children:Object(ie.jsx)(ee.m,{children:e?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ee.l,{fontSize:"3xl",children:["\ud83c\udfa8 ",P[e.profileIndex]]}),Object(ie.jsxs)(ee.l,{children:[e.nickName," \ub2d8\uc774 \uadf8\ub9bc \uadf8\ub9b4 \ucc28\ub840\uc785\ub2c8\ub2e4!"]})]}):Object(ie.jsx)(ee.l,{children:"\uac8c\uc784 \uc900\ube44\uc911\uc785\ub2c8\ub2e4."})})})},Qe=n(95),Ve=n(139),Fe=n(30),qe=n(226),Xe=function(e){var t=e.deps,n=void 0===t?[]:t,c=Object(qe.a)();return Object($.useEffect)((function(){c.start({opacity:[.5,1],scale:[.7,1.1,1],y:[15,-10,0],transition:{delay:1,x:{type:"spring",stiffness:50,velocity:50},default:{duration:.5}}})}),[c].concat(Object(Fe.a)(n))),{controls:c}},Ze=(n(203),function(e){var t=e.roomId,n=g(P.length),c=Object($.useState)(n),i=Object(Z.a)(c,2),r=i[0],s=i[1],o=Object(u.b)(),a=Object($.useRef)(null),l=Object($.useMemo)((function(){return 0===r}),[r]),d=Object($.useMemo)((function(){return r===P.length-1}),[r]),j=U(z)||"",b=Xe({deps:[r]}).controls,h=Object($.useCallback)((function(){var e=g(P.length);s(e)}),[s]),f=Object($.useCallback)((function(){s((function(e){return e-1}))}),[s]),m=Object($.useCallback)((function(){s((function(e){return e+1}))}),[s]),O=Object($.useCallback)((function(){var e,n=null===(e=a.current)||void 0===e?void 0:e.value;if(n){var c={userId:Object(p.a)(),nickName:n,profileIndex:r};C.emit("join",{roomId:t,userInfo:c}),o.room.setUserInfo(c),o.room.setJoinedState(!0),M(z,n)}else alert("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}),[o,t,r,a]),x=Object($.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),O())}),[O]);return Object(ie.jsx)(ee.d,{alignContent:"center",className:"gate-container",children:Object(ie.jsxs)(Qe.a,{children:[Object(ie.jsxs)(ee.k,{spacing:5,children:[Object(ie.jsx)(ee.i,{as:"h1",size:"xl",children:"\ud504\ub85c\ud544 \uc124\uc815"}),Object(ie.jsx)(ke.a,{variant:"outline",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!",defaultValue:j,maxLength:15,textAlign:"center",ref:a,onKeyDown:x,required:!0}),Object(ie.jsxs)(ee.g,{templateColumns:"repeat(5, 1fr)",alignItems:"center",gap:6,children:[Object(ie.jsx)(te.b,{colorScheme:"teal","aria-label":"\uc774\uc804",icon:Object(ie.jsx)(ne.a,{}),disabled:l,onClick:f}),Object(ie.jsx)(ee.h,{colSpan:3,textAlign:"center",children:Object(ie.jsx)(Me.a.div,{animate:b,children:Object(ie.jsx)(ee.l,{fontSize:"7xl",children:P[r]})})}),Object(ie.jsx)(te.b,{colorScheme:"teal","aria-label":"\ub2e4\uc74c",icon:Object(ie.jsx)(ne.b,{}),disabled:d,onClick:m})]}),Object(ie.jsx)(te.a,{rightIcon:Object(ie.jsx)(Ve.a,{}),onClick:h,colorScheme:"teal",size:"lg",variant:"outline",children:"\ub79c\ub364 \ud504\ub85c\ud544"})]}),Object(ie.jsxs)(ee.k,{spacing:5,mt:50,children:[Object(ie.jsx)(ee.e,{}),Object(ie.jsx)(te.a,{type:"submit",rightIcon:Object(ie.jsx)(ne.c,{}),colorScheme:"teal",size:"lg",variant:"solid",onClick:O,children:"\uc785\uc7a5\ud558\uae30"})]})]})})}),$e=n(140),et=(n(204),function(){var e=Object($.useCallback)((function(){window.location.href="./"}),[]);return Object(ie.jsxs)(ee.f,{className:"header-container",h:"100%",p:"4",align:"center",children:[Object(ie.jsx)(ee.i,{fontSize:20,color:"#fff",children:"Picasso"}),Object(ie.jsx)(ee.j,{}),Object(ie.jsx)(te.b,{"aria-label":"Exit",fontSize:20,icon:Object(ie.jsx)($e.a,{}),onClick:e})]})}),tt=function(e){var t=e.roomId,n=Object(u.c)(q.room.state).userInfo,c=Object(u.b)(),i=Object($.useCallback)((function(e){var t=e.participants;y||(c.room.setSocketState(!0),c.room.updateParticipants(t))}),[c]),r=Object($.useCallback)((function(e){console.log("onJoinUser",e),c.room.updateParticipants(e.participants),de.emit("join",e)}),[c]),s=Object($.useCallback)((function(e){console.log("onLeaveUser",e),c.room.updateParticipants(e.participants),de.emit("leave",e)}),[c]),o=Object($.useCallback)((function(e){console.log("onMessage",e),de.emit(e.type,e)}),[]),a=Object($.useCallback)((function(){C.emit("gate",t),C.on("gate",i),C.on("join",r),C.on("leave",s),C.on("message",o)}),[t,i,r,s,o]);return Object($.useEffect)((function(){if(n){var e=n.userId;!function(e){var t=e.roomId,n=e.userId;m=t,O=n}({roomId:t,userId:e})}}),[t,n]),Object($.useEffect)((function(){a()}),[a]),null},nt=(n(205),function(){var e=Object(u.c)(q.tools.state),t=e.currentColor,n=e.currentTool,c=e.currentSize,r=Object(u.b)(),s=Object($.useCallback)((function(e){e===i.CLEAR_ALL?(W.clearAll(),r.tools.setTool(i.PEN)):r.tools.setTool(e)}),[r]),o=Object($.useCallback)((function(e){r.tools.setColor(e)}),[r]),a=Object($.useCallback)((function(e){r.tools.setSize(e)}),[r]);return Object(ie.jsxs)(ee.g,{h:"100%",p:"10px",templateRows:"repeat(3, 1fr)",templateColumns:"repeat(1, 1fr)",children:[Object(ie.jsx)(ee.h,{w:"100%",mb:3,rowSpan:1,colSpan:1,className:"tool-type-wrap",children:Object(ie.jsx)(ee.k,{direction:"row",spacing:2,align:"center",children:Object.keys(i).map((function(e){return Object(ie.jsx)(te.a,{className:e,isActive:e===n,variant:"outline",size:"sm",onClick:function(){return s(e)},children:e},e)}))})}),Object(ie.jsx)(ee.h,{rowSpan:1,colSpan:1,mb:1,children:Object(ie.jsx)(ze,{value:c,onSliderChange:a})}),Object(ie.jsx)(ee.h,{rowSpan:1,colSpan:1,children:D.map((function(e){return Object(ie.jsx)(Pe,{color:e,selected:e===t,onClick:o},e)}))})]})}),ct=n(129),it=(n(206),function(){var e=Object(u.c)(q.room.state).participants,t=Object(u.c)(q.game.state).painterId,n=Object(u.c)(q.gamePoint.state).correctUserList;return e.length?Object(ie.jsx)("ul",{className:"user-list",children:e.map((function(e){var c=e.userId,i=e.nickName,r=e.profileIndex,s=e.point,o=void 0===s?0:s,a=n.find((function(e){return e.userId===c})),l=t===c;return Object(ie.jsx)("li",{children:Object(ie.jsxs)(ee.f,{className:le()("profile-wrap",{painter:l}),bg:"white",margin:2,mb:4,padding:2,borderRadius:6,children:[Object(ie.jsx)(He,{index:r}),Object(ie.jsxs)(ee.b,{ml:"3",width:"100%",overflow:"hidden",children:[Object(ie.jsx)(ee.l,{className:"nickname",fontWeight:"bold",children:i}),Object(ie.jsxs)(ee.a,{className:"point",borderRadius:4,colorScheme:a?"green":"gray",children:[Object(ie.jsx)("span",{children:o})," \uc810"]})]})]})},c)}))}):Object(ie.jsx)("ul",{className:"user-list",children:Array.from({length:1}).map((function(e,t){return Object(ie.jsx)("li",{children:Object(ie.jsx)(ct.a,{height:"68px",borderRadius:6,startColor:"gray.500"})},t)}))})}),rt=(n(207),function(){var e=Object(X.g)().roomId,t=void 0===e?"":e,n=Object(u.c)(q.room.state).isJoined,c=be().isWaiting,i=fe();return je(),he(),Object(se.c)({sm:"480px",md:"768px",lg:"1024px",xl:"1280px"}),Object(ie.jsxs)(oe,{id:"room",children:[Object(ie.jsx)(tt,{roomId:t}),n?Object(ie.jsx)(ee.d,{p:0,maxW:"100%",className:"joined",children:Object(ie.jsxs)(ee.g,{h:"100vh",templateRows:"repeat(16, 1fr)",templateColumns:"repeat(15, 1fr)",bg:"gray.100",children:[Object(ie.jsx)(ee.h,{rowSpan:{base:1},colSpan:{base:15},bg:"purple.400",className:"head-section",children:Object(ie.jsx)(et,{})}),Object(ie.jsx)(ee.h,{rowSpan:{base:15},colSpan:{base:15},className:"body-section",children:Object(ie.jsxs)(ee.g,{w:"100%",h:"100%",gap:2,padding:2,templateRows:"repeat(10, 1fr)",gridAutoFlow:"column",justifyContent:"center",children:[Object(ie.jsxs)(ee.h,{rowSpan:{base:10},colSpan:{base:2},borderRadius:6,bg:"gray.300",w:"230px",children:[Object(ie.jsx)(it,{}),!1]}),Object(ie.jsx)(ee.h,{rowSpan:{base:10},colSpan:{base:10},borderRadius:6,bg:"white",children:Object(ie.jsx)(Ke,{})}),Object(ie.jsx)(ee.h,{rowSpan:{base:10},colSpan:{base:3},w:"280px",children:Object(ie.jsxs)(ee.g,{h:"100%",templateRows:"repeat(10, 1fr)",templateColumns:"repeat(3, 1fr)",gap:2,children:[Object(ie.jsx)(ee.h,{rowSpan:2,colSpan:3,bg:"gray.100",minHeight:150,children:i||c?Object(ie.jsx)(nt,{}):Object(ie.jsx)(Je,{})}),Object(ie.jsx)(ee.h,{rowSpan:8,colSpan:3,borderRadius:6,bg:"gray.300",children:Object(ie.jsx)(Ne,{})})]})})]})})]})}):Object(ie.jsx)(Ze,{roomId:t})]})}),st=n(28),ot=n(227),at=n(35),lt=n(141),ut=n(142),dt=["children","style","vAlign","hAlign","size","color"];Object(st.b)({TextGeometry:ut.a});var jt=function(e){var t=e.children,n=(e.style,e.vAlign,e.hAlign,e.size),c=void 0===n?1:n,i=e.color,r=void 0===i?"#000000":i,s=Object(at.a)(e,dt),o=Object(st.d)(lt.a,"fonts/Jua_Regular-picaso.json"),a=Object($.useMemo)((function(){return{font:o,size:3,height:.5,curveSegments:1.5,bevelEnabled:!0,bevelThickness:1,bevelSize:.1,bevelOffset:.01,bevelSegments:10}}),[o]),l=Object($.useRef)(null);return Object($.useEffect)((function(){l.current&&l.current.children[0].geometry.center()}),[t]),Object(ie.jsx)("group",Object(R.a)(Object(R.a)({ref:l},s),{},{scale:[.1*c,.1*c,.1],children:Object(ie.jsxs)("mesh",{children:[Object(ie.jsx)("textGeometry",{attach:"geometry",args:[t,a]}),Object(ie.jsx)("meshPhongMaterial",{shininess:200,color:r,attach:"material"})]})}))},bt=n(220),ht=function(e){var t=e.position,n=e.size,c=void 0===n?1:n,i=Object($.useRef)(),r=Object(bt.a)(Object(Fe.a)(Array(6)).map((function(e,t){return"textures/cube".concat(t+1,".jpg")})));return Object(st.c)((function(){i.current.rotation.x+=.005,i.current.rotation.y+=.005})),Object(ie.jsxs)("mesh",{ref:i,position:t,scale:1,children:[Object(ie.jsx)("boxGeometry",{args:[c,c,c]}),r.map((function(e,t){return Object(ie.jsx)("meshBasicMaterial",{attachArray:"material",map:e},t)}))]})},ft=n(15),mt=n(221),Ot=n(222),pt=function(e){var t=e.radius,n=(e.position,Object(bt.a)(["textures/earth-clouds.jpg"])),c=Object(Z.a)(n,1)[0],i=Object($.useRef)(null);return Object(st.c)((function(e){var t=e.clock;i.current&&(i.current.rotation.y=.02*t.elapsedTime)})),Object(ie.jsx)(mt.a,{ref:i,args:[t+.05,32,32],children:Object(ie.jsx)("meshPhongMaterial",{transparent:!0,alphaMap:c,opacity:.5})})},gt=function(e){var t=e.radius,n=void 0===t?1:t,c=e.position,i=Object($.useRef)(),r=Object(bt.a)(["textures/earth-specular.jpg"]),s=Object(Z.a)(r,1)[0];return Object(st.c)((function(){i.current.rotation.y+=.001})),Object(ie.jsxs)("group",{ref:i,position:c,scale:1,children:[Object(ie.jsx)(pt,{radius:n}),Object(ie.jsx)(mt.a,{args:[n,32,32],children:Object(ie.jsx)("meshPhongMaterial",{attach:"material",color:"#489396",shininess:5,map:s,specularMap:s,specular:new ft.Color("#2BC6CF")})}),Object(ie.jsx)(Ot.a,{radius:100,depth:50,count:3e3,factor:6,saturation:0,fade:!0})]})},xt=new ft.Vector3,vt=function(){var e=Object($.useState)(!0),t=Object(Z.a)(e,2),n=t[0],c=t[1];return Object(st.c)((function(e){n&&e.camera.position.lerp(xt.set(0,0,15),.2)})),Object($.useEffect)((function(){var e=setTimeout((function(){c(!1)}),1500);return function(){return clearTimeout(e)}}),[]),Object(ie.jsx)("mesh",{})},yt=(n(210),function(){return Object(ie.jsxs)("div",{className:"about-wrap",children:[Object(ie.jsxs)(st.a,{camera:{position:[20,20,300],fov:30},children:[Object(ie.jsx)("ambientLight",{}),Object(ie.jsx)("pointLight",{position:[10,10,10]}),Object(ie.jsxs)($.Suspense,{fallback:null,children:[Object(ie.jsx)(ht,{size:1.2,position:[0,.1,0]}),Object(ie.jsx)("mesh",{position:[0,1.8,0],children:Object(ie.jsx)(jt,{hAlign:"left",color:"#0e978c",size:1.4,children:"Picasso"})}),Object(ie.jsx)(gt,{radius:2,position:[0,-3.4,0]}),Object(ie.jsx)(vt,{})]}),Object(ie.jsx)(ot.a,{panSpeed:.4,minDistance:9,maxDistance:40})]}),Object(ie.jsx)(te.a,{w:"200px",h:"50px",colorScheme:"yellow",size:"lg",fontWeight:"bold",variant:"solid",children:Object(ie.jsx)("a",{href:"https://github.com/maybe-picasso/picasso",target:"_blank",rel:"noreferrer",children:"Github"})})]})}),St=function(){return Object(ie.jsxs)(X.c,{children:[Object(ie.jsx)(X.a,{path:ce.HOME,element:Object(ie.jsx)(re,{})}),Object(ie.jsx)(X.a,{path:ce.ROOM,element:Object(ie.jsx)(rt,{})}),Object(ie.jsx)(X.a,{path:ce.ABOUT,element:Object(ie.jsx)(yt,{})})]})},wt=function(){return Object(ie.jsx)(u.a,{store:F,children:Object(ie.jsx)(d.a,{children:Object(ie.jsx)(St,{})})})};n(211);a.a.render(Object(ie.jsx)(l.a,{children:Object(ie.jsx)(wt,{})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.c4a76d7e.chunk.js.map